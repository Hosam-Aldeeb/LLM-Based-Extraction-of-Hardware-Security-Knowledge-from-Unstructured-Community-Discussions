[bananamilkenjoyer443]: Couple comments about lab 1:
1. Pretty sure the `OPENFPGA_ROOT` env variable is wrong (see picture)
2. Q1 commands in README (could be?) updated so it actually says the lab groups name (or make a comment to change this the appropiate value)
3. Error running first command in Q1 cause of missing dependency...

[bananamilkenjoyer443]: @nachiketkapre

[nachiketkapre]: Thanks will fix

[nachiketkapre]: Wait the env should not be missing

[bananamilkenjoyer443]: That's what the log file says, but this is what the terminal says:

[bananamilkenjoyer443]: `pip list` doesn't include `envyaml`

[nachiketkapre]: Wmuch machine?

[nachiketkapre]: All four?

[bananamilkenjoyer443]: Lemme check, this was uwing

[bananamilkenjoyer443]: All of em

[nachiketkapre]: wait this isn't in the container is it?

[bananamilkenjoyer443]: no

[nachiketkapre]: Did you do

source $OPENFPGA_ROOT/openfpga-env/bin/activate

[nachiketkapre]: I guess this is in the OpenFPGA manual's repo

[bananamilkenjoyer443]: That could be good to add in the env.csh file

[nachiketkapre]: Good idea

[bananamilkenjoyer443]: The `openfpga_arch_file` specified in the `task.conf` file in the `synthesizable_verilog` folder doesn't exist... There are two options that seem like they could potentially be it?

[bananamilkenjoyer443]: The only arch file I can set it to that completes the run is `k6_N10_40nm_openfpga.xml`

[nachiketkapre]: Thanks‚Ä¶ looks like the file name changed

[nachiketkapre]: I think I updated the manual correctly?

[bananamilkenjoyer443]: The manual is updated correctly, but the README doesn't reflect that (nitpicky)

[bananamilkenjoyer443]: It seems the Synopsys scripts in the env file are out of date. The `dc_shell-xg-t` command wouldn't run, so I copied over the Synopsys scripts used in the `asic_impl` manual and the command works.

[nachiketkapre]: Thanks I‚Äôll do a bulk update early tomorrow

[bananamilkenjoyer443]: Last point for me tonight (sorry), when I try to run the `dc_shell-xg-t` command for any of the 4, it results in error because `const.v` file doesn't exist...

[marwanmek]: for lab2q4 - looks like the csv might not have been updated to use this terms students?

Don't see my (msmekhem) or my partners (y244lin) IDs in there

[nachiketkapre]: oh wait

[nachiketkapre]: Ok I updated the OpenFPGA README to be consistent. (I thnk :P)

[nachiketkapre]: ALso pushed `env.csh` and `synthesizable_verilog/*.xml` as suggested to be compliant with the new OpenFPGA manual

[nachiketkapre]: Does commenting that out work?

[marwanmek]: grp_2 missing k value

[nachiketkapre]: 4

[bananamilkenjoyer443]: Commenting out the `const.v` does get rid of that error, but it seems like some of the verilog that is generated by OPENFPGA has some violations?

[bananamilkenjoyer443]: I'm not familiar with the tools enough to know what's going on here, but these kind of seem like Warnings that are being enforced by the `default_nettype_none` compiler directive

[nachiketkapre]: Umm so I'm not using nangate, we're using the 722 stdcells repo, coudl you check where that's defined?

[bananamilkenjoyer443]: At the top of the `cbox_synth.tcl` file

[bananamilkenjoyer443]: Should that be replaced with `stdcells.db` in the `ECE722_STDCELLS` folder?

[nachiketkapre]: Can you switch to the one ffrom the OpenFPGA repo? it should point to 722_STDCELLS or something similar

[nachiketkapre]: let me know if that works

[bananamilkenjoyer443]: It seems like the OpenFPGA repo is using the same libraries

[nachiketkapre]: wait but you did manage to run through the OpenFPGA manual??

[bananamilkenjoyer443]: Ummmmm, I'll double check

[bananamilkenjoyer443]: Bad news... This was from OpenFPGA manual

[bananamilkenjoyer443]: Same error

[bananamilkenjoyer443]: I vaguley remember it being broken when I tried running it a couple weeks ago, I thought someone else would have mentioned something...

[bananamilkenjoyer443]: If someone else could try doing the OpenFPGA manual too and see if they can get it to work, that would be great

[bananamilkenjoyer443]: Just so I know its not a skill diff

[nachiketkapre]: Can you point it to the db file in 722 stdcells folder?

[nachiketkapre]: I‚Äôm guessing nobody has done it yet

[nachiketkapre]: But maan I tried running the flow and being happy it works

[nachiketkapre]: Can someone check my edits to openfpga manual? I've updated paths to ECE722_STDCELLS

[marwanmek]: getting errors on the 'analyze -format sverilog $env(RTLDIR)/SRC/*' commands:
Error:  ./tutorial/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/sub_module/inv_buf_passgate.v:12: Implicit net declaration for 'const0' prohibited by '`default_nettype none' compiler directive. (VER-943)

[nachiketkapre]: so we did need const.v -- is that needed?

[marwanmek]: $OPENFPGA_ROOT/openfpga_flow/openfpga_shell_scripts/fix_device_route_chan_width_example_script.openfpga is different from the manual

manual:
write_fabric_verilog --file ./SRC --explicit_port_mapping --include_timing --print_user_defined_template --default_net_type ${OPENFPGA_VERILOG_DEFAULT_NET_TYPE} --verbose

actual file:
write_fabric_verilog --file ./SRC --explicit_port_mapping --include_timing --print_user_defined_template --verbose

In the verilog generated we get default net type set to none before every module

Tried removing all the `default_nettype none lines, then get an error because it uses non-synthesizable $random

[marwanmek]: const.v was not in fpga_top.synth.tcl for openfpga manual
(above code is from $RTLDIR/SRC/sub_module/inv_buf_passgate.v)

[marwanmek]: adding the const.v line back just gives:
Error:  Unable to open file `/zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_cell_library/verilog/const.v': No such file or directory. (VER-41)

and then followed by the same Implicit net declaration errors

[nachiketkapre]: Ok I guess I know what I‚Äôm doing  tonight üò≠

[nachiketkapre]: This used to work, not sure what got changed under the hood

[nachiketkapre]: Ok I updated the file manually and there's a slightly different error now but it's proceeding. It does need default nettype to be wire to proceed....
 `$OPENFPGA_ROOT/openfpga_flow/openfpga_shell_scripts/fix_device_route_chan_wid....`

[nachiketkapre]: Ok sanity is restored!

[nachiketkapre]: please try openfpga flow! I've merged the python env acticates into the sh and csh scripts

[nachiketkapre]: also pushed updated tcl files to lab2

[nachiketkapre]: Anyone?

[bananamilkenjoyer443]: Just got back home

[bananamilkenjoyer443]: Will test after dinner

[bananamilkenjoyer443]: Guess I'm the only one...

[nachiketkapre]: üò≠

[bananamilkenjoyer443]: How long is the `dc_shell-xg-t -f fpga_top.synth.tcl` for the OpenFPGA manual supposed to take?

[nachiketkapre]: it can take a bit of time if you're synthesizing the whole FPGA

[nachiketkapre]: Maybe reduce channel width to 10 or something

[nachiketkapre]: openfpga_vpr_route_chan_width=10

in task.conf

[bananamilkenjoyer443]: I'm pretty sure it's working which is good

[bananamilkenjoyer443]: But at 100 channel width which is the default, I'm at the hour mark

[bananamilkenjoyer443]: 13 hour mark...

[nachiketkapre]: yeah kill it üòõ just do a much smaller channel width

[creeperdrop]: I wonder if that's how these numbers are decided

[nachiketkapre]: Yeah they should not take 12 hours to run!

[nachiketkapre]: atleast for labs üòõ but in industry of coruse they run these things overnight

[creeperdrop]: Makes sense yes

[creeperdrop]: Ah I see

[bananamilkenjoyer443]: The sunk cost fallacy is too strong though... I need to see it finish

[nachiketkapre]: Any updates

[bananamilkenjoyer443]: I'm out of country till Tuesday... Someone else must step up üòî

[bananamilkenjoyer443]: For the 100 channel width process, killed it at 33 hours...

[marwanmek]: the updated task.conf with W 10 won't work:
ERROR (00_and2_MIN_ROUTE_CHAN_WIDTH) - Failed to execute openfpga flow - 00_and2_MIN_ROUTE_CHAN_WIDTH

works with W 20 though

[marwanmek]: can't run dc at the moment because I get the following when I try to sudo /usr/local/bin/student-container.sh:
Running container as real user: msmekhem (USERID: 7098, GID: 7098)
docker: Error response from daemon: Conflict. The container name "/ece493t34-asic-7098" is already in use by container "7b1ec24c1bff8017e62a68d2bdedc9b4de7ef7a374a3156adadc567a8d38feb9". You have to remove (or rename) that container to be able to reuse that name.

Run 'docker run --help' for more information

believe I just need to run docker rm /ece493t34-asic-7098 but I don't have permission

Tried with the instructions in Lab 2 (which don't use /usr/local/bin/student-container.sh) but get the following errors when using tcsh/csh:
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 42: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 46: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec: error while loading shared libraries: libpng12.so.0: cannot open shared object file: No such file or directory

[nachiketkapre]: Just reattach to the container

[emirguevara]: /usr/local/bin/student-reattach.sh

[jianxiwang]: Is this normal?

[nachiketkapre]: .csh if you‚Äôre using tcsh shell in the container

[jianxiwang]: Yes that is exactly what i am doing

[chaits.hyper]: Started a thread.

[nachiketkapre]: activate.csh

[n1ko0303]: (openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2> setenv RTLDIR synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH
(openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2> dc_shell-xg-t -f cbox.synth.tcl
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 42: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 46: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec: /lib/x86_64-linux-gnu/libpthread.so.0: version `GLIBC_PRIVATE' not found (required by /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec)
(openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2>

[n1ko0303]: I am getting this issue for some reason

[n1ko0303]: uwing:~/ece722-f25/labs/lnikolai-lab2> /usr/local/bin/student-reattach.sh
id: ‚Äò‚Äô: no such user: No such file or directory
id: ‚Äò‚Äô: no such user: No such file or directory
permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/containers/json?filters=%7B%22name%22%3A%7B%22ece493t34-asic-%22%3Atrue%7D%7D": dial unix /var/run/docker.sock: connect: permission denied
Container ece493t34-asic- is not running.
Please start the container first using the original script.
uwing:~/ece722-f25/labs/lnikolai-lab2>

[n1ko0303]: uwing:~/ece722-f25/labs/lnikolai-lab2> service docker status
‚óè docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; preset: enabled)
     Active: active (running) since Sat 2025-09-27 08:35:47 EDT; 2 weeks 3 days ago
TriggeredBy: ‚óè docker.socket
       Docs: https://docs.docker.com
   Main PID: 573513 (dockerd)
      Tasks: 40
     Memory: 81.6G (peak: 97.0G swap: 20.4M swap peak: 23.0M)
        CPU: 3w 5d 1h 59min 47.141s
     CGroup: /system.slice/docker.service
             ‚îî‚îÄ573513 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

[n1ko0303]: ermission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/containers/ece493t34-asic-/start": dial unix /var/run/docker.sock: connect: permission denied
Error: failed to start containers: ece493t34-asic-
uwing:~/ece722-f25/labs/lnikolai-lab2> docker start ece493t34-asic-

[n1ko0303]: @here

[n1ko0303]: I do not have the permission to start the docker container

[n1ko0303]: its not running as of right now

[n1ko0303]: I cant even run the basic docker commands

[peepeetee]: are you using the script

[n1ko0303]: yeah

[n1ko0303]: lnikolai@razorcrest:~/ece722-f25/labs/lnikolai-lab2$ bash /usr/local/bin/student-reattach.sh
permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/containers/json?filters=%7B%22name%22%3A%7B%22ece493t34-asic-1211%22%3Atrue%7D%7D": dial unix /var/run/docker.sock: connect: permission denied
Container ece493t34-asic-1211 is not running.
Please start the container first using the original script.
lnikolai@razorcrest:~/ece722-f25/labs/lnikolai-lab2$ bash /usr/local/bin/student-reattach.sh

[n1ko0303]: I tried to work it out with some ways around but does not work

[peepeetee]: have you started the container first using the original script

[n1ko0303]: yeah lnikolai@razorcrest:~/ece722-f25/labs/lnikolai-lab2$ bash /usr/local/bin/student-container.sh
Running container as real user: lnikolai (USERID: 1211, GID: 1211)
docker: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Head "http://%2Fvar%2Frun%2Fdocker.sock/_ping": dial unix /var/run/docker.sock: connect: permission denied

Run 'docker run --help' for more information
lnikolai@razorcrest:~/ece722-f25/labs/lnikolai-lab2$

[n1ko0303]: or which script are you talking about

[n1ko0303]: dc_shell-xg-t -f cbox.synth.tcl                    # synth Cbox to ASIC stdcell
$ dc_shell-xg-t -f sbox.synth.tcl                    # synth Sbox to ASIC stdcell
$ dc_shell-xg-t -f lb.synth.tcl                      # synth CLB to ASIC stdcell
$ dc_shell-xg-t -f fpga_top.synth.tcl                # synth 1x1 CLB FPGA to ASIC stdcell


when I run these I am getting the following message:

(openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2> dc_shell-xg-t -f cbox.synth.tcl
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 42: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 46: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec: error while loading shared libraries: libpython3.6m.so.1.0: cannot open shared object file: No such file or directory
(openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2> dc_shell-xg-t -f cbox.synth.tcl
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 42: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 46: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec: error while loading shared libraries: libpython3.6m.so.1.0: cannot open shared object file: No such file or directory
(openfpga-env) razorcrest:~/ece722-f25/labs/lnikolai-lab2>

[n1ko0303]: that is what I am trying to figure out

[nachiketkapre]: Use sudo for container scripts

[bananamilkenjoyer443]: Anyone who has done lab 2 Q1, how long did it take?

[bananamilkenjoyer443]: Specifically the fpga_top one

[bananamilkenjoyer443]: The other ones took a few seconds, this one is taking 45 min (as of rn)

[bananamilkenjoyer443]: Can confirm it works, just takes about an hour

[nachiketkapre]: Takes me a hour to get to Missisauga

[n1ko0303]: The docker commands does not work for me so I am not to that step yet

[nachiketkapre]: are you using sudo?

[n1ko0303]: Yes

[n1ko0303]: Command not found

[nachiketkapre]: exact command and response

[n1ko0303]: (openfpga-env) uwing:~/ece722-f25/labs/lnikolai-lab2> dc_shell-xg-t -f cbox.synth.tcl
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 42: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/bin/dc_shell-xg-t: 46: [: T: unexpected operator
/CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/linux64/syn/bin/common_shell_exec: error while loading shared libraries: libpython3.6m.so.1.0: cannot open shared object file: No such file or directory
(openfpga-env) uwing:~/ece722-f25/labs/lnikolai-lab2> sudo dc_shell-xg-t -f cbox.synth.tcl
[sudo] password for lnikolai:
sudo: dc_shell-xg-t: command not found
(openfpga-env) uwing:~/ece722-f25/labs/lnikolai-lab2>

[n1ko0303]: even though I have all the files in here

[n1ko0303]: ```
(openfpga-env) uwing:~/ece722-f25/labs/lnikolai-lab2> ls
bin             env.csh             lab2q1.csv   lab2q4.csv    lib64       sbox.par.tcl
cbox.par.tcl    fpga_top.par.tcl    lab2q2a.csv  lb.par.tcl    Makefile    sbox.synth.tcl
cbox.synth.tcl  fpga_top.synth.tcl  lab2q2b.csv  lb.synth.tcl  pyvenv.cfg  setup-timing.tcl
docker          include             lab2q3.csv   lib           README.md   synthesizable_verilog
(openfpga-env) uwing:~/ece722-f25/labs/lnikolai-lab2>```

[nachiketkapre]: CONTAINER LAUNCH REQUIRES SUDO!

[nachiketkapre]: PLEASE READ MY MESSAGES EXACTLY

[n1ko0303]: /usr/local/bin/student-reattach.sh

I know these ones student-*

[n1ko0303]: followings run fine with sudo

[n1ko0303]: but then the commands in the lab does not work

[nachiketkapre]: Ok -- your previously messages don't have sudo for container launches

[nachiketkapre]: So nothing else will work if you're not in a container

[n1ko0303]: yeah now I am inside the container

[n1ko0303]: lemme run again last time it did not work

[nachiketkapre]: are you able to get upto the Modelsim step?

[n1ko0303]: I am trying to run the following

[nachiketkapre]: source env.csh?

[n1ko0303]: oh that is what I missed lol

[n1ko0303]: üòÑ

[n1ko0303]: I forgot that in the container the enviroment turned off automatically

[bananamilkenjoyer443]: Since synopsys tools run inside docker, it makes scripting them a little difficult... (since we cannot inject commands into the docker exec command). Is there any way I can inject commands into the docker conatiner from a shell script?

[shadow_edwax]: I'm trying to launch the container using sudo, but why i does not have student-container.sh? Am i going to the wrong directory or am i missing any steps?

[shadow_edwax]: i can see the -reattach.sh, the-start.sh and the -stop.sh, but just no student-container.sh

[nachiketkapre]: There‚Äôs a -start.sh

[nachiketkapre]: https://discord.com/channels/1413213351407915194/1413213352288845938/1428403731594215475

[marwanmek]: I had the same issue and ended up making separate scripts for running the python scripts for each W and then a script run within the container to run dc on each W's generated verilog, since the python scripts don't work when running from within the container

Not sure how/if the scripts are graded, but hopefully that's ok

[bananamilkenjoyer443]: Yeah lol I did the same, have a helper script to run inside the container

[bananamilkenjoyer443]: But the stuff inside the container is manual

[peepeetee]: says this on the instructions

[peepeetee]: ```
razorcrest:~/ece722-f25/labs/grp_15-lab2> python3 $OPENFPGA_ROOT/openfpga_flow/scripts/run_fpga_task.py $HOME/ece722-f25/labs/grp_15-lab2/synthesizable_verilog
 INFO (     MainThread) - Set up to run 2 Parallel threads
 INFO (     MainThread) - Currently running task /home/y795zhao/ece722-f25/labs/grp_15-lab2/synthesizable_verilog
 INFO (     MainThread) - Created "run001" directory for current task run
 INFO (     MainThread) - Running "vpr_blif" flow
 INFO (     MainThread) - Found 1 Architectures 1 Benchmarks & 1 Script Parameters
 INFO (     MainThread) - Created total 1 jobs
ERROR (00_and2_MIN_ROUTE_CHAN_WIDTH) - Failed to execute openfpga flow - 00_and2_MIN_ROUTE_CHAN_WIDTH
Traceback (most recent call last):
  File "/zfsspare/opt/OpenFPGA/openfpga_flow/scripts/run_fpga_task.py", line 572, in run_single_script
    raise subprocess.CalledProcessError(0, " ".join(command))
subprocess.CalledProcessError: Command 'python3 /zfsspare/opt/OpenFPGA/openfpga_flow/scripts/run_fpga_flow.py /home/y795zhao/ece722-f25/labs/grp_15-lab2/synthesizable_verilog/config/k6_N10_tileable_40nm.xml /zfsspare/opt/OpenFPGA/openfpga_flow/benchmarks/micro_benchmark/and2/and2.blif --top_module and2 --run_dir /home/y795zhao/ece722-f25/labs/grp_15-lab2/synthesizable_verilog/run001/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH --fpga_flow vpr_blif --openfpga_shell_template /zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_shell_scripts/fix_device_route_chan_width_example_script.openfpga --openfpga_arch_file /zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_arch/k6_N10_40nm_openfpga.xml --openfpga_sim_setting_file /zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_simulation_settings/auto_sim_openfpga.xml --openfpga_verilog_default_net_type wire --openfpga_vpr_device_layout 2x2 --openfpga_vpr_route_chan_width 100 --activity_file /zfsspare/opt/OpenFPGA/openfpga_flow/benchmarks/micro_benchmark/and2/and2.act --base_verilog /zfsspare/opt/OpenFPGA/openfpga_flow/benchmarks/micro_benchmark/and2/and2.v --power --power_tech /zfsspare/opt/OpenFPGA/openfpga_flow/tech/PTM_45nm/45nm.xml --vpr_fpga_verilog --vpr_fpga_verilog_dir /home/y795zhao/ece722-f25/labs/grp_15-lab2/synthesizable_verilog/run001/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH --vpr_fpga_x2p_rename_illegal_port --flow_config /home/y795zhao/ece722-f25/labs/grp_15-lab2/synthesizable_verilog/config/task.conf --default_tool_path /zfsspare/opt/OpenFPGA/openfpga_flow/scripts/../misc/fpgaflow_default_tool_path.conf --TOP and2 --ACT /zfsspare/opt/OpenFPGA/openfpga_flow/benchmarks/micro_benchmark/and2/and2.act --VERILOG /zfsspare/opt/OpenFPGA/openfpga_flow/benchmarks/micro_benchmark/and2/and2.v --CHAN_WIDTH 300' returned non-zero exit status 0.
razorcrest:~/ece722-f25/labs/grp_15-lab2>
```

[peepeetee]: wat nou

[peepeetee]: Do I need to be in the container for this

[venkatech]: if `source $OPENFPGA_ROOT/openfpga-env/bin/activate.csh` was successful, you should be in an openfpga venv

[venkatech]: the manual says `$OPENFPGA_ROOT/openfpga-env/bin/activate` but it's actually `$OPENFPGA_ROOT/openfpga-env/bin/activate.csh` (I think even outside the container)

[peepeetee]: I am in an openfpga venv

[peepeetee]: I was trying to start the student container. Do I need to be in the container for this?

[venkatech]: no

[venkatech]: not for the python3 steps

[peepeetee]: it seems to be working now

[peepeetee]: turning it off and on again made it work

[peepeetee]: will do next time

[peepeetee]: oh it could be that doing `source $OPENFPGA_ROOT/openfpga-env/bin/activate` broke something

[peepeetee]: @nachiketkapre pls fix

[venkatech]: You can use tmux to automate actions inside the container

[venkatech]: That would (theoretically) also make it so that it will continue to run your tasks on the server in case your SSH connection fails

[peepeetee]: :FLOOOOOOOSHED:

[peepeetee]: yeah none of the 4 works

[peepeetee]: aaaaaaaaaa

[venkatech]: those need to run in the container

[peepeetee]: :h_:

[venkatech]: the name of the script has changed  to student-container-start and you need the preserve-env thing

[peepeetee]: HOW DO I

[peepeetee]: AAAAAAAAAA

[venkatech]: `sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-start.sh`

[peepeetee]: https://git.uwaterloo.ca/nachiket/dot-files/-/blob/main/README.md

[peepeetee]: I am doing this rn

[venkatech]: You need to run env.csh and activate.csh once you get in here again

[peepeetee]: do I need to?

[venkatech]: I haven't done that

[venkatech]: Will we need to? Yet to see

[peepeetee]: I might be stupid and installed this on the remote

[peepeetee]: :(

[venkatech]: try adding -A to your ssh command

[venkatech]: That will forward the SSH key agent from your local to remote

[peepeetee]: I'm on mobaxterm

[venkatech]: I'm not sure what that is but I imagine it has an option for Agent Forwarding

[venkatech]: Otherwise just do this I guess

[peepeetee]: I switched to thinlinc and it worked

[peepeetee]: do I need to be on thinlinc from now on

[peepeetee]: :(

[peepeetee]: It's workin!!!!!

[bananamilkenjoyer443]: Very smart

[peepeetee]: does it usually take this long

[peepeetee]: for sbox, I got a `data arrival time` of `0.00`

[peepeetee]: It's probrably just smaller than `0.005` but I am still worried something is wrong

[peepeetee]: Is there any way to increase the percision?

[peepeetee]: It doesn't throw an error when I don't run it in the container??????

[peepeetee]: job 0/0 tho, is it actually running anything

[peepeetee]: At least this time I know what we are doing conceptually

[peepeetee]: But still the toolchain is so janky

[jimmywzp6]: is this normal

[nachiketkapre]: Check the log file

[nachiketkapre]: So what do you see?

[peepeetee]: 2 warnings no errors

[peepeetee]: but jobs says 0/0

[shadow_edwax]: soooooo, what should i actually do with this instruction?
https://git.uwaterloo.ca/nachiket/dot-files/-/blob/main/README.md
I tried to follow it but it just told me i am not allow to run the command?

[shadow_edwax]: also when i tired to do the sudo

[shadow_edwax]: sudo /usr/local/bin/student-container-start.sh

[shadow_edwax]: it just popped out something like this:

[peepeetee]: @nachiketkapre I am not the only one who is confused

[peepeetee]: :ilovecatboys:

[peepeetee]: I feel validated

[shadow_edwax]: I also got this problem

[shadow_edwax]: for the 1st python 3 command line, it returns like this

[shadow_edwax]: with 1 job created and finished with a return code 0

[shadow_edwax]: for the 2nd python3 command

[shadow_edwax]: it showed no error but 0/0 jobs passed

[jianxiwang]: for modelsim is it normal to have this output? i don't see modelsim_result.csv being generated so better to confirm here

[jianxiwang]: no errors though, but i don't think a correctness check is done here since there is no testbench file?

[jianxiwang]: Also just to double confirm. I don't see synthesizable_verilog/config/k6_frac_N10_tileable_40nm.xml (the fractured LUT arch) being used in this lab. Can we safely ignore it?

[nachiketkapre]: "First install some dependencies if you have permissions to do so or ask an adult supervisor." 

WHO"S YOUR ADULT SUPERVISOR??

[nachiketkapre]: The pinned post had the modified command 

https://git.uwaterloo.ca/ece722-f25/manuals/git-ssh-x11-guide/-/blob/main/README.md

```sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-start.sh```

[nachiketkapre]: How did things work in the OpenFPGA manual?

[shadow_edwax]: I have already tried this command, it seems the reason is "SSH_AUTH_SOCK" is empty, which caused the invalid argument

[shadow_edwax]: since in student-container-start.sh, i found this line
--mount type=bind,src=$SSH_AUTH_SOCK,target=$SSH_AUTH_SOCK \
while the code returns an invalid argument, with empty src and target

[nachiketkapre]: Then the rest of the steps in the dot-files must be followed

[shadow_edwax]: I'm confused...

[shadow_edwax]: cuz i've already went throuth the git-ssh-x11 stuff, otherwise i won't be able to finish lab 1

[shadow_edwax]: but when i tried to follow the dot-files

[shadow_edwax]: it either told me that i am not allowed to run the command

[shadow_edwax]: or it just told me i have an Illegal variable name

[shadow_edwax]: should i change my root from uwing to other options?

[shadow_edwax]: as it told me

[shadow_edwax]: I am not allowed to execute '/usr/bin/apt-get install stow autojump' as root on uwing.

[nachiketkapre]: Skip that step that‚Äôs not important as the instructions tell you

[jianxiwang]: @nachiketkapre I noticed that Fcin and Fcout are defined for both CLB and IO (as shown in xml). Since lab2 q2b is asking us to change Fcin and Fcout, should we modify for CLB only or for both CLB and IO? From vtr manual I found it is for CLB only so just want a double confirm here

[nachiketkapre]: Just CLBs

[jimmywzp6]: @nachiketkapre Prof, it works on lab 1

[jimmywzp6]: I did reattach it, but still cannot work'

[nachiketkapre]: Your SSH_AUTH_SOCK must be set

[nachiketkapre]: If it‚Äôs not set you‚Äôre not following all steps carefully

[nachiketkapre]: Did you try to logout and login after all steps?

[shadow_edwax]: about the instruction in dot-files manual, it said i need to check for .zshrc file. but when i open it, there is just nothing in there

[jimmywzp6]: yes

[nachiketkapre]: Did you ever setup ssh keys?

[shadow_edwax]: i think i found the problem

[nachiketkapre]: You missed a step

[shadow_edwax]: the ssh keys i uploaded

[shadow_edwax]: was the rsa one

[shadow_edwax]: not the ed25519 one

[nachiketkapre]: Ok you can change that

[shadow_edwax]: yeah that's the problem. I'm in the container now

[shadow_edwax]: how did i enter the container in lab 1 using the rsa key?

[shadow_edwax]: (O_o)

[nachiketkapre]: RSA keys are fine, the only difference with the new container access scheme is that it require the SSH_AUTH_SOCK to be set and no password-only access is permitted

[jimmywzp6]: Thank you, I can enter container rn

[jimmywzp6]: new problem with openFPGA_root

[nachiketkapre]: You‚Äôre not running that in the container

[nachiketkapre]: Only asic tools run in the container

[jimmywzp6]: okk

[jimmywzp6]: how long it will take to run dc_shell-xg-t -f fpga_top.synth.tcl

[jianxiwang]: @nachiketkapre I assume we use default W=100 for q3?

[jianxiwang]: @nachiketkapre Q4 par has error following the lab guideline. Is it expected? üòÇ

[nachiketkapre]: Thanks this one is an easy fix ‚Äî add /zfsspare in path for the pdk

[nachiketkapre]: I‚Äôll fix at my end tomorrow

[jimmywzp6]: @nachiketkapre for q3, can we use the xml files exact same as lab1's

[nachiketkapre]: No

[shadow_edwax]: @nachiketkapre How should we change the xml file for Q3?

[shadow_edwax]: I tried to follow what we did in lab 1 to change the K,M,N values, also the lut delay and the local_clb_delay following the COFFEE table.

[shadow_edwax]: but i think  i probably miss some part

[jimmywzp6]: I believe I changed all parts, and I always get this error message

[shadow_edwax]: as when i tried to run the python3 command, it returns an error like this

[nachiketkapre]: Yes debug that error

[nachiketkapre]: There‚Äôs plenty of log files

[shadow_edwax]: we set W value as 100 in the task.conf, but the error just said somewhere in the .openfpga script, it set sth called --CHAN_WIDTH to 300, which kinda caused a conflict?

[shadow_edwax]: also i'm not really sure weather should we use the COFFEE table

[shadow_edwax]: as i found some mismatch numbers for the original K6 N10 M40 case

[nachiketkapre]: W is irrelevant for Q3

[nachiketkapre]: You do have to keep things consistent between the XML files

[peepeetee]: @nachiketkapre reminder to change this to activate.csh

[peepeetee]: So I run the first 4 steps outside the container and the last two steps inside the container?

[peepeetee]: I am so sorry for being confus

[peepeetee]: yeah if I don't do this either throws an error

[peepeetee]: still getting a `0.00` for data arrival time on the sbox. That couldn't be right, right?

[peepeetee]: Should I be worried about these warnings?>

[peepeetee]: it says `found 0 ini files`????? despite one being provided?

[nachiketkapre]: I‚Äôm not following. I‚Äôll do the .csh fix

[peepeetee]: problem: I don't think these two steps are working because for q2a

[peepeetee]: for q2a I keep getting the same area

[peepeetee]: From 40 to 80 I have the same area output

[peepeetee]: Is this normal? how do I debug this?

[peepeetee]: @CreeperDrop you might have to repeat q1 and q2 to see if it's something with my setup

[peepeetee]: did you solve this?

[peepeetee]: :aaaauuuuuuu:

[peepeetee]: oh I need to do ```setenv RTLDIR synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH``` every time????

[peepeetee]: or do I have to make clean every time

[peepeetee]: I really don't know what is going wrong. I somehow got a new value for W = 100 but after that every run returns the same value

[peepeetee]: I tried using the run number instead of `latest` for ` setenv RTLDIR` but the issue persists

[peepeetee]: I get the same values for 20 30 and 40

[peepeetee]: that couldn't be right

[nicoleslaww]: was anyone getting `Fatal: Design Compiler is not enabled. (DCSH-1)` when running the synopsys DC commands? i can't seem to figure out why it's refusing to run for me but is running fine for my lab partner when (i think?) we did the same setup

[nachiketkapre]: Are you sure you activated the CMC licnese?

[nachiketkapre]: It takes a few hours to activate if you did this just now.

[nachiketkapre]: @here was there any bug-fix anticipated from me in the infra? Has anyone completed Lab2 without hiccups?

[bunbao.]: i'm sorry I also have a question in q2a, are the `python3` commands supposed to be runnable within the containers?

[poofypigeon]: I don't know that anyone has been able to

[nicoleslaww]: sorry which step was this? maybe I missed it? or is that part of the activate.csh part?

[nachiketkapre]: No -- I couldn't get OpenFPGA to work from inside the container. Maybe you could figure it out?

But the current model is to do OpenFPGA pyhon in the host + ASIC runs in the container

[bunbao.]: nope I could not figure out after modifying my script multiple times

[nachiketkapre]: No there's a pinned post on Piazza about activating CMC licenses

[poofypigeon]: should we have specific names for the two seperate scripts for that?

[nachiketkapre]: lab2q2a.tcsh for the container script?

[poofypigeon]: Yes, but I also am making a script for outside the container

[nachiketkapre]: that's specified in the question?

[bunbao.]: I'm sorry is it? I am thinking of just making the script start the container, run the DC, then stop the container

[nachiketkapre]: `Add the script for varying W to the repository as lab2q2a.sh. If you use some
other scripting environment call it from this file.`

[poofypigeon]: OpenFPGA python in the host, ASIC in the container. The manual assumes one script but these are two seperate tasks run in seperate environments

[bunbao.]: no i'm sorry i meant like two scripts or is it one script running both that the requirement is asking for

[nachiketkapre]: Can you script container launch + execution of script inside container as a one-liner?

[nachiketkapre]: Then the container launch call can stay in lab2q2a.sh?

[bananamilkenjoyer443]: That would be lovely. I tried to get that to work for a couple hours before just making two seperate scripts

[nachiketkapre]: How do two separate scripts work? YOu generate RTL for different W's first?

[nachiketkapre]: and then compile all of them from inside the container?

[poofypigeon]: yes pretty much

[bunbao.]: I can only do it in a way that enters the container then I still have to manually run the DC commands

[nachiketkapre]: but we can't do container launch + run script automation even if you have two separate scripts?

[nachiketkapre]: For grading, I'd like to run one script üò≠

[poofypigeon]: I'm presently trying to translate the student-container-start script to tcsh and run some commands in detached mode

[bunbao.]: I run the container and it stops my script execution

[poofypigeon]: we well see how that goes

[poofypigeon]: if it's fruitful I can share the boilerplate

[bananamilkenjoyer443]: One solution would be to for @nachiketkapre to allow us to pass another arguement into `start-container.sh`. You can pass commands into `docker exec`, so in the script we make, we could call the `start-container.sh` command with the commands we want to pass into `docker exec`. I think that would allow us to run commands inside the docker container and have a single script

[poofypigeon]: It's possible in theory, but I have just discovered that permissions are a problem since I can't run my own script with sudo

[poofypigeon]: Also is our script supposed to populate lab2q2a.csv? What is the expected visible result of running it from the autograder's perspective?

[poofypigeon]: Obviously generate the outputs but I've been having it change folder names so it's clear what folder is for which variable settings. Is that a problem?

[nachiketkapre]: Folder names don‚Äôt matter.. jsut populate the final csv correftly

[nachiketkapre]: Just the csv

[poofypigeon]: populate it _with the script_? just to be 100% clear

[nachiketkapre]: Using the script

[bilal99u]: We are also having the same issue 
A single script can‚Äôt run both script then start container and run dc inside container

[bilal99u]: We can make two scripts but that has issues for grading @nachiketkapre

[jianxiwang]: wait so we are supposed to generate csv using script instead of just print the result out in terminal?

[nachiketkapre]: Isn‚Äôt that mentioned in the README?

[bilal99u]: Anyone else similar issues? 
If yes how did you all proceed?

[jianxiwang]: it doesn't say fill csv automatically using script though as I assume script is to just replicate the result and see it aligns with the result filled in csv

[nachiketkapre]: How would an autograder work?

[jianxiwang]: umm if using autograder for this task then yes csv must be auto-generated

[jianxiwang]: I originally assume autograder will be just for csv files though

[nachiketkapre]: I also don‚Äôt say use a computer?

[nachiketkapre]: The csv file should be populated form your script results ‚Äî it‚Äôs a bunch of one liner sed cut commands

[bilal99u]: We are also having the same issue 
A single script can‚Äôt run both script then start container and run dc inside container

We can make two scripts but that has issues for grading?

[shadow_edwax]: wait we have to fill the csv using scripts?

[nachiketkapre]: And it allows me to ensure that your results are your own and not copied numbers

[nachiketkapre]: Waiting for Milo‚Äôs attempt

[nachiketkapre]: I can make a new command that lets you pass an exec command

[poofypigeon]: ‚ùå permissions

[nachiketkapre]: But I‚Äôm not sure if it‚Äôll work

[jianxiwang]: Ok got it. Just to double confirm: do we need to populate screenshot.png using lab2q4.sh as well (i don't know if that is even something possible though...

[jianxiwang]: What i did is to take the screenshot manually from gui

[poofypigeon]: does Q1 need a script?

[bananamilkenjoyer443]: Yeah, I would try the docker exec thing but... permissions

[nachiketkapre]: OKK

[nachiketkapre]: try this

student-container-execute.sh

[nachiketkapre]: sudo /usr/local/bin/student-container-execute.sh <give me 100% marks.sh>

[nachiketkapre]: now when container starts it drops to $HOME

[nachiketkapre]: aww crap

[nachiketkapre]: how do I ensure autograder sees same working folder as you that's relative to PWD

[nachiketkapre]: but one problem at a time -- does this work?

[nachiketkapre]: Teechhhnicalllyyyy.. it can be done... and my NoC class does export it automatically

[poofypigeon]: this script is not there for me

[nachiketkapre]: sorry only on uwing

[nachiketkapre]: before i roll to all servers

[shadow_edwax]: a script running on the server can make a screenshot of my own computer?

[shadow_edwax]: wow

[jianxiwang]: ok I'll see how to do that. any requirements on resolution of the screenshot?

[jianxiwang]: Will autograding compare pixelwise for correctness? üòÇ

[poofypigeon]: If you put it on haulcraft I can run it immediately

[nachiketkapre]: ```
setDrawView fplan
dumpToGIF floorplan_edge_dimension.gif
createSnapshot -dir snapshots -name WORKPLEASE
```

This is a way to do screenshot

[nachiketkapre]: in `asic-par.tcl`

[nachiketkapre]: but for some retarded reason it exports as GIF

[shadow_edwax]: ?

[shadow_edwax]: a GIF?

[shadow_edwax]: O_o

[nachiketkapre]: its a bit more involved than just copying

[nachiketkapre]: just ssh to uwing

[poofypigeon]: ugh

[poofypigeon]: why is zsh so fucked up on these servers üò≠

[nachiketkapre]: ?

[poofypigeon]: me trying to change shells to something that works lol

[nachiketkapre]: that sounds like your keyboard is broken

[nachiketkapre]: why blame my servers??

[poofypigeon]: every other shell is fine

[nachiketkapre]: no it must be your keyboard

[poofypigeon]: ok

[nachiketkapre]: gotta be a zsh switch

[nachiketkapre]: you're typing it wrong

[nachiketkapre]: hae you even taken a typing course?

[poofypigeon]: hae you?

[nachiketkapre]: i invented typing

[jimmywzp6]: I wrote 2 automation which used for container and outside separatly, it this feasible?

[nachiketkapre]: we're trying to do better

[poofypigeon]: ugghh I gotta do the whole dotfiles thing againnnn?

[nachiketkapre]: what? no

[nachiketkapre]: your home folder is same

[poofypigeon]: It's complaining about the ssh environment variable again

[emirguevara]: sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-execute.sh

[poofypigeon]: o

[poofypigeon]: right

[poofypigeon]: okay it ran but now it's not terminating

[nachiketkapre]: what do you mean? the command works but doesn't return?

[poofypigeon]: yeah

[poofypigeon]: wait

[poofypigeon]: I might be dumb

[nachiketkapre]: try `sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-execute.sh ls`

[nachiketkapre]: just to see if it does ls + returns

[emirguevara]: I think it works

[emirguevara]: test.sh is just `echo $(pwd)`

[nachiketkapre]: i'm scared though what if some dumbass kids hang the container and my grader crashes and melts E7 to a lava pool

[poofypigeon]: it works when I pass it a command

[poofypigeon]: me running a shell script that calls a shell script to open a docker container within which I run a shell script

[emirguevara]: ```
while true; do
  W=10000000000
  dc_shell-xg-t ...
done
```

[poofypigeon]: `sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-execute.sh ":(){ :|:& };:"`

[creeperdrop]: Irony

[nachiketkapre]: you can blame Cadence/Synopsys

[nachiketkapre]: Their tools worked fine in Ubuntu last year and they pulled hte plug and moved us to RedHat'

[creeperdrop]: I was surprised when I saw them working on Ubuntu. Thought they only existed for RedHat

[creeperdrop]: Anyway still not working

[kunj99]: I thought it was student-container-execute that now allows an argument not student-container-start

[bananamilkenjoyer443]: Only problem I envisioned... surley nothing malicious will happen [clueless](https://cdn.discordapp.com/emojis/1121182758417469480.webp?size=48&name=clueless)

[bananamilkenjoyer443]: I think that error happens cause SSH_AUTH_SOCK isn't set

[bananamilkenjoyer443]: Check `echo $SSH_AUTH_SOCK`

[creeperdrop]: I think you're into something

[creeperdrop]: What to do then?

[creeperdrop]: Like it's not set

[bananamilkenjoyer443]: I got the same question...

[bananamilkenjoyer443]: @emir How did you get your SSH_AUTH_SOCK set?

[creeperdrop]: Vergil needs to exercise his powers

[kunj99]: eval $(ssh-agent) before
sudo -E worked for me

[bananamilkenjoyer443]: Pretty sure I just forgot to do these
https://git.uwaterloo.ca/nachiket/dot-files/-/blob/main/README.md

[marwanmek]: This worked ty

[bananamilkenjoyer443]: Yeah, guess just add this to the top of your scripts

[bananamilkenjoyer443]: Got my script working with the autograder

[bananamilkenjoyer443]: 1 script

[bilal99u]: So what did you do? 
Pass some cmnds as arguments into the container?

[jianxiwang]: @Ahmad  for auto-execution of script inside container there is also a tmux option mentioned before

[bananamilkenjoyer443]: sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-execute.sh \
  tcsh -c '
    cmd1 && \
    cmd2 && \
    cmd3 &&
  '

[bananamilkenjoyer443]: Something like that

[bananamilkenjoyer443]: But obviously add as many commands as you want

[bilal99u]: Good one man 
Thanks

[jianxiwang]: Anyone knows what is W for q3? it is not mentioned in readme

[bilal99u]: For Q2b we vary fcin and fcout but keep w = 100 
So maybe keep w 100 as default

[bilal99u]: Beside the original supplied W is 100

[bilal99u]: But that‚Äôs my guess

[jianxiwang]: That's what I did as well. Thanks

[bananamilkenjoyer443]: @nachiketkapre Can we add a comma to the end of the last line? Not having it there breaks my `sed` command...

[bananamilkenjoyer443]: The other CSVs seem to include this comma at the end too

[shadow_edwax]: how should i run the command lines after i get inside the container when  i'm using a script on host side?

[shadow_edwax]: after i attached to the container, it just takes over my terminal and never returns to the script until i exit the container

[bilal99u]: Do this

[bilal99u]: Don‚Äôt use container start

[shadow_edwax]: ok i'll try it

[shadow_edwax]: okay there's sth wrong...

[shadow_edwax]: emm

[bilal99u]: Do this

[bilal99u]: Not the sudo

[bilal99u]: Just first two lines

[shadow_edwax]: okay?

[shadow_edwax]: and then run the scripts?

[bilal99u]: Yes

[bilal99u]: Make a script to run a single flow first

[bilal99u]: Then later make the loop to go through all combinations

[shadow_edwax]: ok it said the container is already in use. let me try to stop the container first

[jianxiwang]: @nachiketkapre "each student only solves two combinations from these" while csv only have one combination per group ü§î . I assume each group just go with one combination then?

[shadow_edwax]: @Ahmad OK it worked. Thx

[shadow_edwax]: that really helps

[nicoleslaww]: so I did this last night, got a success message, but am still getting this error

[nicoleslaww]: any thoughts?

[nachiketkapre]: Email Eric Praetzel.

Show proof (screenshot) of successful activation and your username

[haibo3431]: Does anyone have solutions to the following questions? I'm on q1 right now.

1. When I run `dc_shell-xg-t -f cbox.synth.tcl` inside the container, I'm seeing these two ouput errors, in the left image below. The first error is complaining `const.v` not existing inside the `openfpga` directory. The second error is complainging the generated verilog file from `openfpga` uses `$random`, which synopsis dc compiler does not recognize. Has anyone seen a similar issue on this?

2. When I run the `modelsim` step with `python3`, I'm seeing no `ini` files being found, as shown in the right image. Essenitally `modelsim` did nothing. Is this expected? I'm outside the container and uses `tcsh` for this command. 


Thanks.

[poofypigeon]: Still need a solution to this

[marwanmek]: managed to take the screenshot as a png using this command:
gui_dump_picture screenshot.png -format PNG -view fplan

but you need to run innovus without -no_gui

[poofypigeon]: I have this too

[nachiketkapre]: Can you push what you currently have? So I can get a sense of how you‚Äôre doing things

[nachiketkapre]: Does this fail the same way in the OpenFPGA manual?

[poofypigeon]: https://git.uwaterloo.ca/ece722-f25/labs/grp_3-lab2/-/blob/main/lab2q2a.sh?ref_type=heads
Still very under construction but this is my approach

[poofypigeon]: letsss find out

[poofypigeon]: For the manual I'm getting the error messages for the OpenFPGA python steps that we were getting while inside the container, but I'm not inside the container :|

[poofypigeon]: "returned non-zero exit status 0" ü§î

[andreasdacvs]: i have that exact same issue üòÆ

[andreasdacvs]: is there like an error message or log file somewhere that is more descriptive?

[nachiketkapre]: The log file paths are all in that long message

[nachiketkapre]: Also you can try to rerun that exact command yourself

[nachiketkapre]: Wait what?? You‚Äôre not in a container?

[nachiketkapre]: That works fine directly
In the host

[poofypigeon]: for the lab yes, but for the manual no ???

[nachiketkapre]: You have to source the env and activate.csh

[nachiketkapre]: you run OpenFPGA python on the host.

you only run ASIC tools in the container

[marwanmek]: @nachiketkapre for q2b I see the same cell area and delay for all values of Fcin/Fcout

Checked my setup several times and seems ok, only changing the Fcin and Fcout for CLB in the XML

Based on the lecture slides, the area for CBOX should be the max of wiring/switch, which should be equal when Fcin/Fcout are 10%

So I think we should expect the value to change once we start increasing Fcin/Fcout past 0.1

Is there something I'm missing here? Are there additional changes we need to make?

[poofypigeon]: I did

[nachiketkapre]: you don't use tcsh for OpenFPGA though.. straigh-up zsh works

[poofypigeon]: Lab manual has you use tcsh. OpenFPGA manual uses zsh I guess, but forgets to tell you to source activate

[nachiketkapre]: because it's in the env.sh file

[poofypigeon]: I see

[poofypigeon]: still no worky either way

[nachiketkapre]: also nobody says to use tcsh for openfpga

[nachiketkapre]: let me try the steps again

[bananamilkenjoyer443]: I will say, I followed the steps and for some reason, I have no problems at all

[poofypigeon]: ok

[bananamilkenjoyer443]: I am using tcsh

[nachiketkapre]: I just did it!!

```
Ôåõ ÔÅº ~/ece7/m/openfpga on Ôáì ÔÑ¶ main ?592 ‚ùØ python3 $OPENFPGA_ROOT/openfpga_flow/scripts/run_fpga_task.py $HOME/ece722-f25/manuals/openfpga/tutorial
/zfsspare/opt/OpenFPGA/openfpga-env/lib/python3.12/site-packages/humanize/__init__.py:2: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
 INFO (     MainThread) - Set up to run 2 Parallel threads
 INFO (     MainThread) - Currently running task /home/nachiket/ece722-f25/manuals/openfpga/tutorial
 INFO (     MainThread) - Created "run010" directory for current task run
 INFO (     MainThread) - Running "vpr_blif" flow
 INFO (     MainThread) - Found 1 Architectures 1 Benchmarks & 1 Script Parameters
 INFO (     MainThread) - Created total 1 jobs
 INFO (00_and2_MIN_ROUTE_CHAN_WIDTH) - 00_and2_MIN_ROUTE_CHAN_WIDTH Finished with returncode 0, Time Taken 8 seconds
 INFO (00_and2_MIN_ROUTE_CHAN_WIDTH) - ***** 0 runs pending *****
 INFO (     MainThread) - Task execution completed
```

[creeperdrop]: Facts

[nachiketkapre]: I just ran the steps in the OpenFPGA manual as stated and things work

[kunj99]: Can confirm, I just ran the OpenFPGA manual directly in zsh- works for me, make sure you have the latest changes pulled in 

Still need to use tcsh for lab1 for it to work

[nachiketkapre]: tcsh/zsh doesn't matter is env.csh/env.sh is correctly setup as per OpenFPGA manual

[poofypigeon]: I restarted from zero and it worked ¬Ø_(„ÉÑ)_/¬Ø

[poofypigeon]: that shrug emoticon is looking messed up

[nachiketkapre]: + updating README.md and env.sh for lab2 to be consistent with OpenFPGA manual
+ added pics to OpenFPGA manual so the flow makes visual sense

[nachiketkapre]: @here I'm still not sure of teh source of the lab2 errors/Modelsim errors above. They don't happen in the OpenFPGA manual, right?

[haibo3431]: Yes

[haibo3431]: so the modelsim 0 ini files found is ok then?

[haibo3431]: modelsim did nothing

[shadow_edwax]: why this happens :(

[shadow_edwax]: this part works very well

[shadow_edwax]: when i run them only

[shadow_edwax]: however

[shadow_edwax]: when i tried to put them inside a while loop

[shadow_edwax]: like this

[shadow_edwax]: trying to read coffee table from a csv file and go through the kn sets

[shadow_edwax]: it shows this

[poofypigeon]: Is this normal in the OpenFPGA python runs? I've seen this in the manual and in lab2. It doesn't stop the run though.
Manual doesn't have the error with const.v but it doesn't look like it tries to source it for fpga_top.synth.tcl, whereas for lab2 it comes up for the cbox and sbox.

[nachiketkapre]: Yes those errors are fine.. but const.v is strange

[poofypigeon]: Even with the lab2 errors, I was able to get area results, but my timing report has nothing useful

[poofypigeon]: I'm guessing "1" at the end is an exit code

[nachiketkapre]: üò≠

[haibo3431]: @nachiketkapre may you please check piazza? thanks (sorry for the ping)

[nachiketkapre]: WOW MOTHER OF SAURON

[nachiketkapre]: Got the Modelsim dumbassery resolved

[nachiketkapre]: I regret to inform you that 

`python3 $OPENFPGA_ROOT/openfpga_flow/scripts/run_modelsim.py $HOME/ece722-f25/manuals/openfpga/tutorial --run_sim` must be run in `tcsh` üò≠

[nachiketkapre]: Modelsim v17 also messes up in Ubuntu

[nachiketkapre]: Expected log

[creeperdrop]: Modelsim is part of the csh gang?

[nachiketkapre]: I could use some debuggery around the timing paths if someone wants to check what's up?

[nachiketkapre]: Maybe someone can poke at 
https://openfpga.readthedocs.io/en/master/

and see if there's something new that must be done to get timing sorted? I suspect SDC file generation flow may have changed

[poofypigeon]: Some people are getting timing info right? and not seeing the const.v and $random errors?

[marwanmek]: yes

[poofypigeon]: What server are you on?

[marwanmek]: uwing

[nachiketkapre]: oh what?

[nachiketkapre]: so some folks are getting timing correct?

[poofypigeon]: ah, same. so that's not it

[marwanmek]: getting results, some of them seem incorrect üôÇ

[marwanmek]: sometimes see 0.00 delay for sbox

[nachiketkapre]: I still suggest a quick peek at OpenFPGA docs as I suspect seomething minor has subtly changed

[nachiketkapre]: Also is the conf file being set correctly by everyone? are folks setting k N M W etc in the right places?

[haibo3431]: did you add `source $OPENFPGA_ROOT/openfpga-env/bin/activate.csh` into `env.csh`?

[haibo3431]: I think you might want to add that in

[nachiketkapre]: in lab2|openfpga repo?

[haibo3431]: lab2

[nachiketkapre]: ok on it

[marwanmek]: Also had to make this fix:

[marwanmek]: for innovus

[nachiketkapre]: I did do so

[nachiketkapre]: Wait should I also push the PNG export command-line thingy?

[nachiketkapre]: so nobody has to ever launch a GUI like an Orc

[marwanmek]: This worked if you run without -no_gui (but it doesn't actually launch the gui)

[nachiketkapre]: it alreasdy has -no_gui?

[marwanmek]: I saw the commit but I don't think the change actually went through

[marwanmek]: but idk if you changed it again after I made my changes

[nachiketkapre]: hmm

[nachiketkapre]: can you paste the text üòõ

[marwanmek]: for which one?

[marwanmek]: gui_dump_picture screenshot.png -format PNG -view fplan

[marwanmek]: need to run innovus without -no_gui:
innovus -64 -files fpga_top.par.tcl

otherwise that command does nothing

[nachiketkapre]: ohhh

[haibo3431]: this doesn't work in lab2. still seeing ini files not found.

[nachiketkapre]: you fpga_task again

[haibo3431]: what do you mean?

[nachiketkapre]: run_fpga_task

[haibo3431]: ah ok let me try

[haibo3431]: can confirm modelsim finally works for lab 2 q1

[bilal99u]: Guys for question three we are changing the K and N and M values of the XML architecture file, do we also need to update the corresponding coffee table values for those combinations of KNM ?

[marwanmek]: I found that changing area/delay values in the XML made no difference to the area/timing from DC, so I believe we just need to change k/N/M in both XML files

but confirmation would be nice as well

[nachiketkapre]: Let's think about that request for a second...

[nachiketkapre]: who needs the delay values?

[marwanmek]: vpr/vtr?

[nachiketkapre]: correct

[nachiketkapre]: so what does the ASIC tool need?

[marwanmek]: openfpga just generates verilog > dc uses the verilog, doesn't need the area delay estimates

[marwanmek]: correct?

[haibo3431]: could we resolve these for synopsis?

[nachiketkapre]: please debug that and let me know as some kids are not seeing this

[haibo3431]: `const.v` you have seen before

[haibo3431]: is there a solution on that right now?

[marwanmek]: If you don't mind, could you also answer this? It doesn't make sense to me based on the lecture but I'm pretty sure my setup is correct

[kunj99]: did you set RTLDIR in the container before running the dc cmd?

[haibo3431]: yes

[haibo3431]: are you having issue with `inv_buf_passgate.v` in q1?

[poofypigeon]: @marwanmek  you're getting timing info‚Äîdo you _not_ see the const.v and $random errors at the start of the synopsis run?

[poofypigeon]: I don't know if these are the same or seperate issues

[kunj99]: I dont see the const.v or $random error

[nachiketkapre]: please check the OpenFPGA docs and see if there's change in how RTL is generated for stdcell compile.. I susepct this + timing path missing errors may be tied to some OpenFPGA changes

[marwanmek]: I don't, I'll try and list steps I did to run if it helps

[kunj99]: no

[poofypigeon]: I'm running on the same server with presumably the exact same version of OpenFPGA as marwanmek though

[haibo3431]: are you seeing these?

[poofypigeon]: Yes

[haibo3431]: I'm pretty sure I followed the step the way they are

[haibo3431]: no way there's mismatches

[poofypigeon]: I've repeated the manual verbatim from a clean, up-to-date, repo numerous times

[poofypigeon]: same result

[haibo3431]: you have to check the log. you are proabably not checking it properly

[poofypigeon]: @Haibo can I see your `timing.cbox.synth.rpt`?

[andreasdacvs]: in the openfpga xml did you only need to change acouple of values for k, or was there more to it?

[haibo3431]: is at the very beginning of the run

[haibo3431]: i only have q1

[poofypigeon]: you should get that file from the first synopsis run in q1, even with the errors

[haibo3431]: with the error this is what i have

[poofypigeon]: ok, exactly the same

[poofypigeon]: as mine

[haibo3431]: ok but we don't have const.v and inv_buf_passgate.v

[haibo3431]: so this is not accurate

[haibo3431]: Are you seeing this?

[haibo3431]: I'm pretty sure this is what you end up if you follow the lab manual

[poofypigeon]: No, it doesn't give any actual timing results because it exits early

[haibo3431]: yeah that's true

[haibo3431]: @Milo what can we do now?

[poofypigeon]: idk

[poofypigeon]: work on other classwork

[asharafath12]: I'm confused - was there a fix to the missing const.v file or is this issue not affecting everyone at the moment?

[haibo3431]: no. i don't find one

[haibo3431]: @sharaf do you see this for your q1?

[asharafath12]: Yup the very same error

[asharafath12]: Checking the folder too it does appear that the file is missing

[haibo3431]: `const.v` is missing

[haibo3431]: `inv_buf_passgate.v` is there but not synthesizable because of `$random`

[asharafath12]: I have some other file errors as well apparently

[haibo3431]: you didn't do this

`setenv RTLDIR synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH`

[kunj99]: @haibo i just did q1 again from a clean - what log did you want me to check

[bunbao.]: sorry for the ping but in q2b did you modify the fcin and fcout from `lab2q2b.sh`? or from the vpr `task.conf` file and somehow modify it from there

[haibo3431]: please check if you ever see this on the terminal output

[asharafath12]: Oh yes thank you for that - i missed out on that step while debugging

[asharafath12]: I have the same exact output now with just errors with const.v and the passgate

[svccall]: I have the same terminal output

[poofypigeon]: ```tcl
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/inv.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/buf4.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/tap_buf4.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/mux2.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/dff.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/gpio.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/or2.v
analyze -format sverilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/const.v
```
`cbox.synth.tcl` explicitly tries to analyze `const.v` but the file straight up does not exist. How can anyone be making it passed this part?

[haibo3431]: yeah exactly

[asharafath12]: So the assumption is the simulation does run completely and produce results even with const.v being missing?

[haibo3431]: @peepeetee please pin this

[poofypigeon]: @marwanmek are you definitely looking at `timing.cbox.synth.rpt` for timing info, or one of the timing reports in RTLDIR?

[poofypigeon]: you've missed a source environment step

[marwanmek]: Yes

[asharafath12]: Oh oops just deleted it because i realized i was being dumb

[asharafath12]: thank you anyways haha :P

[poofypigeon]: yours is broken too dawg

[poofypigeon]: there's no timing results there

[kunj99]: ok I do see this, before when modelsim wasn't wokring (ie 0/0 jobs) i had a timing value but after pulling in the newest changes and rerunning I see the same error

[haibo3431]: vote the poll please

[poofypigeon]: @nachiketkapre the tcl scripts try to analyze `const.v` which is completely missing. No one can get timing results. No one is able to proceed.

[andreasdacvs]: isn't the 0.1 for data arrival time under path column the timing result we need?

[poofypigeon]: Possibly? I admittedly was too blind to see that line, but I definitely don't see anything about `Slack` or `required` like the manual says.

[poofypigeon]: And the exit code of 1 does not inspire confidence

[marwanmek]: I see slack for other reports, but no CBOX

[poofypigeon]: For SBOX as well, or just fpga_top?

[marwanmek]: SBOX, slack there, but 0 delay somehow:

[marwanmek]: on some W values it will get delay 0.12

[marwanmek]: doesn't make sense

[poofypigeon]: So things are... not broken, but also broken?

[poofypigeon]: working in spite of all the errors

[poofypigeon]: üò≠

[marwanmek]: fpga_top:

[marwanmek]: yeah that's what I meant when I said I'm getting results, but not all of them make sense

[andreasdacvs]: yeah I get the same results

[marwanmek]: looking through the openfpga github and can't find a version where there was a const.v, was checking to see if it got removed at some point

[poofypigeon]: how can an SBOX have slack if it has no registers..?

[marwanmek]: üôÉ

[andreasdacvs]: btw, in the openfpga arch file did you find you needed to change more than just some k values? i think I'm missing something somewhere in these xml files since my q3 refuses to work

[marwanmek]: I had to change sram cells as well

[marwanmek]: to 2**k

[marwanmek]: lines 149 and 147

[andreasdacvs]: oh, I missed that since i was only searching for k,n,m values, thank you

[marwanmek]: np

[peepeetee]: yeah the openfpga manual works flawlessly

[nachiketkapre]: The SDC files create false paths, etc to ensure we can get timing

[nachiketkapre]: Does everyone have const.v error now???

[nachiketkapre]: Maan you‚Äôre giving away some secrets‚Ä¶ atleast get a burger and milkshake in return

[poofypigeon]: yes, but idk if it matters

[asharafath12]: Wait so do we just ignore the const.v and passbuff error and run everything as is?

[haibo3431]: we just pretend nothing happens then? and just blindly fill in the table....

[nachiketkapre]: For now do the scripts

[nachiketkapre]: We will have to figure out what‚Äôs going on as I suspect openfpga has changed things behind the scones

[haibo3431]: ah ok

[marwanmek]: @nachiketkapre is it possible that const not existing is throwing off the area results for q2b, so that wiring always dominates?

If you recall, there was another issue earlier with openfpga where the write_fabric_verilog command didn't have --default_net_type ${OPENFPGA_VERILOG_DEFAULT_NET_TYPE} which made the code unsynthesizable

Wondering if the issue is similar here?

Is there some setting in that command that would stop it from using $random and const.v?

I don't see const.v in the primitive modules here:
https://openfpga.readthedocs.io/en/master/manual/fpga_verilog/fabric_netlist/#fabric-netlists

And couldn't find it in any of the older versions of openFPGA

[nachiketkapre]: It is there in my OpenFPGA.old repo that I'd saved from 2023

But const.v is trivial

‚ùØ cat const.v
// ----- Verilog module for const0 -----
module const0(const0);
output [0:0] const0;
assign const0[0] = 1'b0;
endmodule

// ----- Verilog module for const0 -----
module const1(const1);
output [0:0] const1;
assign const1[0] = 1'b1;
endmodule

[nachiketkapre]: and it is possible the new OpenFPGA codebase never instantiates const0|1

[nachiketkapre]: so it's not relevant anymore

[nachiketkapre]: Can you check if my \*.synth.tcl files are not including some .v files from the SRC/\* folder?

[nachiketkapre]: if inv_buf_passgate.v is not generated, is it being rfenmaed to inv.v or something else?

[marwanmek]: Included in cbox tcl:
analyze -format verilog $env(RTLDIR)/SRC/sub_module/inv_buf_passgate.v 
analyze -format verilog $env(RTLDIR)/SRC/sub_module/mux_primitives.v                        
analyze -format verilog $env(RTLDIR)/SRC/sub_module/muxes.v 
analyze -format verilog $env(RTLDIR)/SRC/sub_module/memories.v                              
analyze -format verilog $env(RTLDIR)/SRC/routing/cbx_1__0_.v 
elaborate cbx_1__0_                     

Generated in SRC/sub_module/:
-rw-rw-r-- 1 msmekhem msmekhem   281 Oct 25 03:31 arch_encoder.v
-rw-rw-r-- 1 msmekhem msmekhem  3204 Oct 25 03:31 inv_buf_passgate.v
-rw-rw-r-- 1 msmekhem msmekhem   270 Oct 25 03:31 local_encoder.v
-rw-rw-r-- 1 msmekhem msmekhem  1770 Oct 25 03:31 luts.v
-rw-rw-r-- 1 msmekhem msmekhem 33292 Oct 25 03:31 memories.v
-rw-rw-r-- 1 msmekhem msmekhem 48894 Oct 25 03:31 muxes.v
-rw-rw-r-- 1 msmekhem msmekhem  8667 Oct 25 03:31 mux_primitives.v
-rw-rw-r-- 1 msmekhem msmekhem   272 Oct 25 03:31 shift_register_banks.v
-rw-rw-r-- 1 msmekhem msmekhem  2057 Oct 25 03:31 user_defined_templates.v
-rw-rw-r-- 1 msmekhem msmekhem   732 Oct 25 03:31 wires.v

inv_buf_passgate is generated but it has $random and uses const

        assign out = (in === 1'bz)? $random : ~in;

[nachiketkapre]: oh that's not synthesizable anyway since it is checking 1'bz -- we cannot do this in hardware, only in simulators!

Ok, we should wrap that with `ifdef SYNTHESIS so it is only set to ~in.

[nachiketkapre]: is const0|1 defined somewhere else?

[marwanmek]: also in muxes.v

[nachiketkapre]: really odd that OpenFPGA is generating non-synthesizable Verilog since it's purpose is to do stdcell synthesis...

[nachiketkapre]: I'll email Tang Xifan from OpenFPGA with a list of these bugs/changes later tonight..

[marwanmek]: thank you

[nachiketkapre]: is there a separate synth-only folder?

[nachiketkapre]: maybe these files are for functional simulation?

[marwanmek]: I don't see a synth-only folder

[nachiketkapre]: So this file contains the Verilog generation commands>>

/zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_shell_scripts/fix_device_route_chan_width_example_script.openfpga

[nachiketkapre]: One quick test is to comment out the testbench-related write* commands that also target hte SRC/* folder

[nachiketkapre]: land see if `write_fabric_verilog` by itself generates synthsizable verilog

[marwanmek]: write_full_testbench --file ./SRC --reference_benchmark_file_path ${REFERENCE_VERILOG_TESTBENCH} --explicit_port_mapping --include_signal_init --bitstream fabric_bitstream.bit
write_preconfigured_fabric_wrapper --embed_bitstream iverilog --file ./SRC  --explicit_port_mapping
write_preconfigured_testbench --file ./SRC --reference_benchmark_file_path ${REFERENCE_VERILOG_TESTBENCH} --explicit_port_mapping
write_simulation_task_info --hdl_dir ./SRC --reference_benchmark_file_path ${REFERENCE_VERILOG_TESTBENCH} --file simulation_deck_info.ini

[marwanmek]: these ones?

[nachiketkapre]: yup

[marwanmek]: I'll give it a try

[marwanmek]: still seeing:
Error:  /home/msmekhem/ECE722/grp_2-lab2/FCSWEEP/0/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/sub_module/inv_buf_passgate.v:44: The system function '$random' is not supported for synthesis. (ELAB-939)

and

Error:  Unable to open file `/zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_cell_library/verilog/const.v': No such file or directory. (VER-41)

but waiting for script to finish to see if area/timing changes

[marwanmek]: yeah still the same results

[nachiketkapre]: Ok emailed Xifan Tang for now to see if instructions have changed too drastically.

[nachiketkapre]: One more request -- can you add *all* the generated files in cbox.synth.tcl?

[nachiketkapre]: looks like there are way more files than I had in my tcl

[marwanmek]: Adding everything under sub_module made no difference (except user_defined_templates.v which somehow makes the area 0 for all runs)

[marwanmek]: No change even after adding everything under SRC

[nachiketkapre]: Is the docker execute script OK to deploy to all servers?

[marwanmek]: working fine for me

[hoss2882]: Can we get an extra few hours on Monday prof  just to read the recent messages and try to understand everything ? Not asking for a whole day just maybe submit by evening ?

[nachiketkapre]: Yes you can submit by end of day Monday.

I‚Äôm going to try and sort out the timing issues if I can.

[peepeetee]: I did this but all the combinations return the same value

[peepeetee]: What am I

[peepeetee]: how do

[peepeetee]: aaaaaaaaaaa

[peepeetee]: you have been automating this??????? I did this by hand

[peepeetee]: :aaaauuuuuuu:

[bananamilkenjoyer443]: Just a couple sed commands üòÅ

[741opamp]: Just to confirm, for q2(a), each iteration of the script is supposed to:

1. setenv RTLDIR
2. use sed to vary W
3. run_fpga_task and generate verilog for that W
4. run modelsim
5. reattach/start the container
6. run DC for cbox and sbox
7. detach from container
8. write cbox and sbox data to CSV

Just want to make sure of steps 5,6,7 since theres no grading script atm

[bananamilkenjoyer443]: Pretty much

[741opamp]: thank you bananamilkenjoyer443

[qscgyj830856700]: @nachiketkapre Hi Professor, sorry for the ping.

1. I would like to ask if it's OK that I add some decorative attributes to some tags in the openfpga.xml to help me locate the tags in my script (see the 1st screenshot).

2. Also, can I modify some paths in **fpga_top.par.tcl** so that I can launch Innovus somewhere else than the lab root directory (for example, see the 2nd screenshot)?

Thank you!

[nachiketkapre]: 1. That should be fine.
2. Err no üò≠ why do you want to run it elsewherev

[741opamp]: not sure if this has been asked before but @nachiketkapre  will you 

1. tcsh
2. source env.csh

before calling lab2q2a.sh ?

[nachiketkapre]: Yes

[poofypigeon]: @nachiketkapre the default task.conf has the non _frac version of the xml file. Q4 says to use the non _frac, but Q1-3 don't say which to use. Are Q1-3 supposed to be with _frac?

[nachiketkapre]: They do say what xml to use

[poofypigeon]: No. They don't.

[poofypigeon]: It's only mentioned in q4 to _not_ use it

[poofypigeon]: I can make an assumption, but this is an important detail that should not be left up to inference

[peepeetee]: I can corrobrate that this has not been mentioned in q1 and q2

[haibo3431]: How long does `dc_shell-xg-t -f fpga_top.synth.tcl` take you guys?

[poofypigeon]: like 30 minutes I think is normal

[haibo3431]: ah ok thanks

[741opamp]: @Milo  have you been able to create one script for q2a2 that starts the container after the python runs outside the container?

[nachiketkapre]: I suggest you read again carefully

[poofypigeon]: yes, you want the `student-container-execute` script

[741opamp]: okay fire thanks

[antheroo]: where is that script located?
I can't find it in /usr/local/bin/

[nicoleslaww]: are you on uwing?

[antheroo]: oh no i am not, do i have to be?

[nicoleslaww]: i think maybe

[antheroo]: okay thanks ill try that

[qscgyj830856700]: 2. Because it generates a lot of files. Sorry just trying to make things organized.
I only modified this line as shown in the screenshot.

[antheroo]: ya its available on uwing, thanks!

[nicoleslaww]: np!

[741opamp]: @nachiketkapre  could we get ```student-container-execute``` on the other servers too? 
I'm on razorcrest and this is all i see

[poofypigeon]: Based on e.g. RTLDIR it's the non-fracturable for every question. In which case, my question becomes why is the fracturable one given? Any why would step 4 in particular say to change it to the non-fracturable one?

[poofypigeon]: Why are your labs full of riddles üò≠

[jianxiwang]: @nachiketkapre what is the initial status of student container when running auto-grading script? Started or stopped? This is important because some groups including us assuming containers are stopped at the very beginning and if it is already started on your side it will break the script. Can we make the initial status of container consistent here?

[nicoleslaww]: i think you can stop it at the start of your script and not have it break even if it isn't running

[741opamp]: does anybody else's sbox synth fail for W=100?

[741opamp]: (q2a)

[peepeetee]: oh I see what you mean

[peepeetee]: :h_:

[antheroo]: wdym fail? I get some errors but i dont think it fails

[antheroo]: I get these but i get them for all values of W and i think these errors were mentioned yesterday

[asharafath12]: Yeah I believe Q2a works fine

[asharafath12]: As in it runs for all values of W

[antheroo]: anyone seen this before? I cant start because it says the container name is in use, can't reattach or stop the container since it says its not running.

[shadow_edwax]: maybe try to stop it and then try start it again?

[antheroo]: tried it with and without the --preserve-env and neither worked

[shadow_edwax]: strange...

[shadow_edwax]: i have no idea about it

[shadow_edwax]: sorry bro

[antheroo]: no worries lol

[antheroo]: gemini says i have to docker rm the container, but i dont have the perms

[shadow_edwax]: btw i'm working on Q4 and running the innovus commandlien, and it returns sth like this

[shadow_edwax]: i'm not really sure about what's going on...

[shadow_edwax]: also for the rpt file required, i only see the synth.rpt but i did not find par.rpt. is is generated under another place?

[n1ko0303]: I have the same issue with starting the container

[n1ko0303]: by accident I ran the stop script and now its asking for the argument to start the container

[n1ko0303]: the issue is in the script but I can not change it bc I have no permission for that

[n1ko0303]: and sadly when you stop the container it stops on all the servers I stopped it on razorcrest and it stopped the docker container on the uwing too

[n1ko0303]: any suggestion what should we do or if anyone had the same issue and fixed it with some way

[n1ko0303]: I tried fixing it like this but it did not work

[n1ko0303]: @here

[nachiketkapre]: Ok I‚Äôm back at 8pm for any help

[nachiketkapre]: I‚Äôll be running my own container to grade you ‚Äî so I‚Äôll make sure to stop it between student grading runs

[nachiketkapre]: Please don‚Äôt mess with folders

[nachiketkapre]: Yes will do ‚Äî sorry slipped my mind last night

[nachiketkapre]: Git pull!

[kunj99]: `openfpga_vpr_device_layout=2x2` is the default layout given in task.conf

(Q4) lab says: 

`Finally, you will run a complete place-and-route for the 1x1 toy FPGA running and2 benchmark. For this experiment we will use the default K=6, N=10, W=20 configuration originally supplied to you.`

Should we change the layout to 1x1 for Q4 or use the default layout?

[shadow_edwax]: well it still give me the same problem after i pull from git

[shadow_edwax]: :(

[kunj99]: did you eval $(ssh-agent) before trying to run?

[shadow_edwax]: yes i do

[shadow_edwax]: together with the 
ssh-add ~/.ssh/id_ed25519

[kunj99]: which cotnainer are you trying to start? uwing, execute.sh works afaik

[741opamp]: Oh okay solid

So just so everyone is on the same page

1. you will be running tcsh and source env.tcsh before calling our scripts

2. You will call the grading script from outside the container and it is the responsibility of our scripts to *enter* the container using student-container-execute.

3. Say one of our scripts finish running (lab2q2a.sh), will your test infra will handle exiting the container before calling the second script (lab2q2b)? Or is this up to us, and did you mean to say that you will only exit the container once you have run all scripts for a single student? (which means that each of our scripts must handle exiting the containers at the end of their runs)

[nachiketkapre]: The files were dated unless you force pushed.

Add a /zfsspare shards of /opt if it doesn‚Äôt show up in your history

[shadow_edwax]: oh crapÔºåi did force pushed yesterday night

[shadow_edwax]: :(

[shadow_edwax]: emm...

[shadow_edwax]: is there anyway i could save it now?

[poofypigeon]: `git reflog`?

[poofypigeon]: + `rebase` and/or `cherry-pick`?

[shadow_edwax]: emm, when i do git reflog, it looks kinda like this

[poofypigeon]: oh wait right you never fetched from remote before the forced push

[shadow_edwax]: I used git add to add my scripts and force pushed them

[shadow_edwax]: is that gonna overwrite all the other files?

[nachiketkapre]: I assume you‚Äôre calling the execute script? Then there‚Äôs nothing to manage wrt container status.

[741opamp]: oh yeah i just noticed it handles everything

[poofypigeon]: Does anyone get interesting results for q2b and q3, or is it just the same area and arrival for the values we've been given to sweep?

[poofypigeon]: I can get it to spit out different values if I give it larger k and N, so I know it's actually changing the inputs

[peepeetee]: I got all same values for q2b

[svccall]: Same

[peepeetee]: thar must be a mistake somehow

[741opamp]: my first one is diff every other one is the same

[poofypigeon]: did you change fc for both `io` and `clb`, or just `clb`?

[peepeetee]: look at this message

[peepeetee]: https://discord.com/channels/1413213351407915194/1413213352288845939/1429562184261832765

[poofypigeon]: Yes, I had some different values when I was changing both, but when I made it only for the clb, as per that message, the results got very boring

[peepeetee]: @nachiketkapre

[741opamp]: damn thanks for that

[741opamp]: I was changing it for both io and clb

[svccall]: I tried running Q4 after changing 2x2 to 1x1, but run_fpga_task.py fails in the VPR step since the arch XML file has no option for 1x1 (only 2x2 and auto). I tried using auto, but that ended up choosing 3x3.

Here is the end of the vpr_stdout.log:
```
# Load Timing Constraints took 0.00 seconds (max_rss 28.5 MiB, delta_rss +0.0 MiB)
# Packing
## Prepacker
## Prepacker took 0.00 seconds (max_rss 28.5 MiB, delta_rss +0.0 MiB)
## Initializing Pre-Cluster Timing
## Initializing Pre-Cluster Timing took 0.00 seconds (max_rss 28.5 MiB, delta_rss +0.0 MiB)
# Packing took 0.00 seconds (max_rss 28.5 MiB, delta_rss +0.0 MiB)
Error 1: 
Type: Architecture file
File: /zfsspare/opt/OpenFPGA/vtr-verilog-to-routing/vpr/src/base/setup_grid.cpp
Line: 135
Message: Failed to find grid layout named '1x1' (valid grid layouts: 'auto', '2x2')

The entire flow of VPR took 0.02 seconds (max_rss 28.5 MiB)
Fatal error occurred!
OpenFPGA Abort

Error 2: Command 'vpr' execution has fatal errors

Finish execution with 2 errors

The entire OpenFPGA flow took 0.003656 seconds

Thank you for using OpenFPGA!
```

[nachiketkapre]: Report what you see for now. I'm going to take a look at area + timing results tonight..

[nachiketkapre]: 2x2 for now and proceed! Have to divide area by 4 to get normalized per-tile area! but report just total 2x2 area

[shadow_edwax]: how should i do this?

[shadow_edwax]: should i just create a directory or sth else?

[nachiketkapre]: I told you how to fix

[shadow_edwax]: I'm not really sure about am i doing right but i am not allowed to do it anyway

[shadow_edwax]: I typed in the following code and it returns like this
zfs list
df -h /opt

[marwanmek]: in setup-timing.tcl, just add /zfsspare in front of the paths that start with /opt

[shadow_edwax]: emm

[shadow_edwax]: ok let me find it

[shadow_edwax]: where could i find the setup-timing.tcl?

[shadow_edwax]: oh i just found it

[shadow_edwax]: so many files in my lab folder

[peepeetee]: make clean

[shadow_edwax]: ok it's working

[n1ko0303]: can I have the python code for q1 output to do all the steps for the q1 automation instead of the sh

[n1ko0303]: ?

[kunj99]: you can call your python inside a .sh

[n1ko0303]: okay haha üòÑ I guess that is the way around

[nachiketkapre]: If it fails you get a 0

[poofypigeon]: Is the correct interpretation of the negative `data arrival time` that if you take the `data arrival time` and subtract it from the `data required time` from above, that's how the `Slack` at the bottom is calculated? i.e. we would want to take the first line with `data arrival time`?

[qscgyj830856700]: We should use M=40 (the default value) instead of 33 (k*(N+1)/2) for all the questions except Q3 right?

[n1ko0303]: Thanks prof @nachiketkapre I will write shell rn

[n1ko0303]: lol

[poofypigeon]: I mean if the shell script fails you also get 0 I presume

[n1ko0303]: I was doing it all manual from question 1 now I got to automate the process, I got the answers and extracted using the python script

[n1ko0303]: I will make sure bro it will run üòÑ I dont want to get 0

[n1ko0303]: no no no

[n1ko0303]: I just got to wait for an hour now

[poofypigeon]: I just want the pain to end at this point

[n1ko0303]: again

[nachiketkapre]: Yes, this is a 327 topic isn‚Äôt it?

[poofypigeon]: yeah, I'm just making sure I understand the format of the printout

[nachiketkapre]: There‚Äôs 0.12 reported as positive earlier. The -0.12 is just to show you slack calculation

[nachiketkapre]: /usr/local/bin/*-execute.sh now deployed to all servres

[bananamilkenjoyer443]: Is the grading script just gonna be
`./lab2q1.sh`
`./lab2q2a.sh`
`./lab2q2b.sh`
`./lab2q3.sh`
`./lab2q4.sh`

[nachiketkapre]: I'll add some "cleanup" so your existing files don't get used

[bananamilkenjoyer443]: Perfect

[shadow_edwax]: is it gonna clean up everything except for the script?

[poofypigeon]: it's gonna clean up the scripts and fail you

[poofypigeon]: should've had a spare

[peepeetee]: don't worry, the discord logs proves that I did the work

[peepeetee]: :3_:

[nachiketkapre]: it'll delete discord logs as well

[nachiketkapre]: `make clean discord`

[poofypigeon]: it'll delete the french language pack

[creeperdrop]: Offending French mathematicians in progress...

[peepeetee]: I fucking wish

[peepeetee]: the en-uk option just doesn't go away

[peepeetee]: for some fucking reason

[nachiketkapre]: I am unaware this was an problme. What's going on?

[poofypigeon]: `rm -fr /` will speed up your computer

[nachiketkapre]: I;ve never enountered frsutration due to a "language pack"??!

[nachiketkapre]: For Q1 when you run cbox synth, what area/delay values you get for what fc values

[qscgyj830856700]: area 287.280008 / delay 0.10, fcin = 0.15, fcout = 0.1

[qscgyj830856700]: Hopefully everyone gets the same üòÖ

[nachiketkapre]: uh oh

[nachiketkapre]: are you sure your dc_shell logs are "clean"

[nachiketkapre]: some minor warnings are expected, but not major missing components

[nachiketkapre]: sbox area/delay?

[nachiketkapre]: for Q1?

[poofypigeon]: `sbox,210.140005,0.00,`

[nachiketkapre]: This class is going to fail üòõ

[nachiketkapre]: I'm scared

[peepeetee]: the tooling is finnicky and non deterministic

[nachiketkapre]: Is my env different from yours?

[peepeetee]: did you really pull a "it works on my computer"

[nachiketkapre]: Can you please check for missing components after dc_shell

[peepeetee]: :glare:

[peepeetee]: yes there are major missing components

[nachiketkapre]: Show me an example of what's missing

[nachiketkapre]: Did you patch the $random issue in inv_buf_passgate.v?

[peepeetee]: look at this

[nachiketkapre]: yeah that was debugged earlier as a $random issue

[poofypigeon]: What was the patch?

[peepeetee]: I am so confused I have no idea what is going on

[nachiketkapre]: That's an exercise for the reader

[nachiketkapre]: Look at the offending line...

[poofypigeon]: This reader has been excercised doing stupid shell coding all weekend

[nachiketkapre]: and tell me what the fix should be...

Surely somebody has figured this out?

[nachiketkapre]: I just ran things myself and took me 10 seconds and I'm a retarded dinosaur

[poofypigeon]: If 98% of my brain power wasn't spent solving riddles and writing archaic tcsh maybe I'd have the brain capacity to engage with the actual lab material

[shadow_edwax]: @nachiketkapre is there anyplace else than setup-timing.tcl that i need to add /zfsspare before /opt?

[nachiketkapre]: Lab is riddle solving

[shadow_edwax]: because when i run innovus, it does not popped any window and throw the following error

[bananamilkenjoyer443]: Also, why was this added to `env.csh`? Kinda doesn't make sense because `OPEN_FPGA_ROOT` is not set in the same script so it just fails

[nachiketkapre]: ? it is literally set one line above

[bananamilkenjoyer443]: Wait

[bananamilkenjoyer443]: True

[marwanmek]: assign out = (in === 1'bz)? $random : ~in;

assume we should just change it to 

assign out = ~in;

But didn't realise we were expected to modify the generated RTL?

[nachiketkapre]: Yes -- 1'bz check and $random doesn't work in hardware

[nachiketkapre]: that file errors out and is just missed so you get TGATE violations

[marwanmek]: so do we now have to make fixes to inv_buf_pass_gate?

[creeperdrop]: Riddle solving over grades

[marwanmek]: what about the modules that use const?

[emirguevara]: why doesn't openfpga generate synthesizable verilog?

[nachiketkapre]: I agree but this is harmless unsyth

[poofypigeon]: it harmed my lab work?

[nachiketkapre]: no you have a duty to unharm your lab

[poofypigeon]: this lab is harming me

[nachiketkapre]: No more waivers for 3A/B students anymore

[poofypigeon]: ok

[bunbao.]: @nachiketkapre sorry, but how can I deal with this issue without `docker rm`?

```
docker: Error response from daemon: Conflict. The container name "/ece493t34-asic-20864" is already in use by container "216b862e05f413905f82484a1f7255c9d32fd320489d9ddad92258c5ae44b3d7". You have to remove (or rename) that container to be able to reuse that name.
```

[nonexistentsigh]: u can use the student-container-stop

[nonexistentsigh]: script

[nonexistentsigh]: so just run the stop script once and then run the container again

[nachiketkapre]: What's Q1 LB area/delay?

[bunbao.]: I got this

[bananamilkenjoyer443]: `lb,10076.080274,0.15,`

[nonexistentsigh]: um

[nonexistentsigh]: it worked for me before üíÄ

[bunbao.]: oh boy

[nachiketkapre]: I manually purged your container, just start it again

[bunbao.]: thank you

[nachiketkapre]: ok anyone figued out how to fix the $random automatically?

[nachiketkapre]: so your q1.sh cleans up the generated code before calling dc_shell?

[poofypigeon]: doesn't it just grab the file from the openfpga folder

[poofypigeon]: can't we just come up with a fixed file and plop it there?

[nachiketkapre]: err where?

[poofypigeon]: I'm guessing inv_buf_passgate.v is somewhere in $OPENFPGA_ROOT, no?

[nachiketkapre]: Nein

[nachiketkapre]: It's likely hardcoded in python somewhere

[nachiketkapre]: and there for modelsim runs

[poofypigeon]: oh bummer

[marwanmek]: just sed after it's generated?

[nachiketkapre]: that's what I did

[marwanmek]: rerunning now with that

[marwanmek]: can you confirm the result is ok after?

[nachiketkapre]: that'll get you to the NEXT problem

[nachiketkapre]: No

[marwanmek]: üôÅ

[poofypigeon]: my lack of sleep tomorrow?

[nachiketkapre]: That's not a problem

[nachiketkapre]: that's a feature of a Waterloo education

[nachiketkapre]: Focus on Q1

[nachiketkapre]: What happens after the sed fix

[nachiketkapre]: ? no other errors

[marwanmek]: Error:  Unable to open file `/zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_cell_library/verilog/const.v': No such file or directory. (VER-41)
still present ^

A lot of these:
Warning:  /home/msmekhem/ECE722/grp_2-lab2/Q1DIR/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/sub_module/muxes.v:2036: the undeclared symbol 'lut6_mux_basis_input2_mem1_59_out' assumed to have the default net type, which is 'wire'. (VER-936)

and these
Warning: In design 'cbx_1__0_', input port 'chanx_right_in[4]' is connected directly to output port 'chanx_left_out[4]'. (LINT-29)

[marwanmek]: this is for cbox only

[marwanmek]: going to run the others individually to check, when I ran all I think I did see errors for lb

[marwanmek]: area/timing do change, SBOX delay is now non-zero

[marwanmek]: so seems more correct

[nachiketkapre]: wait -- so to fix const.v I did the following:

```
set verilog_dir $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog
foreach verilog_file [glob -nocomplain $verilog_dir/*.v] {
    analyze -format sverilog $verilog_file
}
```

[nachiketkapre]: it replaces all the hardcoded filenames with all those in the OpenFPGA Verilog folder

[marwanmek]: this is in the tcl files?

[nachiketkapre]: cbox.synth.tcl, etc

[nachiketkapre]: in the appropriate place.

[nachiketkapre]: What's your CBOX/SBOX area/delay btw?

[marwanmek]: cbox,436.240010,0.26,
sbox,397.404007,0.19,

[marwanmek]: lb,24881.640430,23.94,

[nachiketkapre]: And this is just with the sed fix?

[marwanmek]: yes

[nachiketkapre]: add the const.v fix and redo just cbox

[poofypigeon]: is this cbox.synth.tcl?

[nachiketkapre]: all *synth.tcl

[poofypigeon]: ok fair enough

[youssefm123]: do we have to redo our results for the const.v fix now?

[marwanmek]: still the same
cbox,436.240010,0.26,

[nachiketkapre]: what fcin/fco?

[marwanmek]: 0.15 in 0.10 out

[marwanmek]: w=20

[peepeetee]: ??????????????????

[peepeetee]: I have no idea what is going on

[peepeetee]: What are the action items?

[peepeetee]: @CreeperDrop I entrust our success to you, I am giving up

[peepeetee]: I'll go do paper reviews

[nachiketkapre]: Can you push your code + share your git repo URL? I think our config file are not identical

[poofypigeon]: I can corroborate this cbox value (inv_buf_passgate.v and const.v fixes implemented for q1)

[marwanmek]: https://git.uwaterloo.ca/ece722-f25/labs/grp_2-lab2

[nachiketkapre]: wait, where are your XMLs for Q1?

[marwanmek]: I generate them in the script

[marwanmek]: for q1 it's just the same as the base though?

[marwanmek]: no changes to fcin/fcout or k/m/n

[nachiketkapre]: k

[nachiketkapre]: inspecting...

[marwanmek]: only change I make for q1 is:
sed -i "s/openfpga_vpr_route_chan_width=.*/openfpga_vpr_route_chan_width=20/" $OUTPUT/config/task.conf

[nachiketkapre]: the changes looks good! area is correct but my delay is not the same

[nachiketkapre]: what;s the timing target in setup-timing.tcl?

[marwanmek]: I thought setup-timing.tcl was only used by innovus though?

[nachiketkapre]: that's true

[nachiketkapre]: so why's my timing -0.19 üôÅ

[nachiketkapre]: I wonder if there's some xml variation from the script

[kunj99]: create_rc_corner -name typical \
  -cap_table "/zfsspare/opt/pdk_v1.3_v2010_12/captables/NCSU_FreePDK_45nm.capTbl" \
  -T 25

[antheroo]: thats my slack

[peepeetee]: It's incredulous that this is non deterministic

[antheroo]: i get 0.26 data arrival tho

[nachiketkapre]: Ohhh I'm retarded

[nachiketkapre]: I'm looking at Slack!

[nachiketkapre]: ok üòõ changes look good!

[poofypigeon]: This is discord

[nachiketkapre]: Maan, I got a heartattack

[marwanmek]: data required time                                                                                       0.07
  data arrival time                                                                                       -0.26
  -------------------------------------------------------------------------------------------------------------------------------------
  slack (VIOLATED)                                                                                        -0.19

[poofypigeon]: ok so with these changes things work?

[nachiketkapre]: OK PEACE HAS BEEN RESTORED IN MANDATORY 722

[poofypigeon]: I can run my stuff now?

[nachiketkapre]: YESS

[poofypigeon]: thank god

[nachiketkapre]: Wait, so it's just two fixes

- $random fix

- foreach for all files in OpenFPGA/verilog?

[poofypigeon]: yeah

[marwanmek]: idt removing the const error even matters

[nachiketkapre]: I'm your god the only good and you will bow before me.... <rant continues>

[marwanmek]: mainly the random fix

[jimmywzp6]: How to turn on the gui for q4

[poofypigeon]: The implication of this is that I don't believe in you?

[peepeetee]: NACHIKET STOP USING THE R WORD

[peepeetee]: :aaaauuuuuuu:

[nachiketkapre]: In this house when the Professor speaks, everyone keeps quiet

[poofypigeon]: I'm in my apartment

[nachiketkapre]: I'm the department

[peepeetee]: He is the department

[416_tz]: https://tenor.com/view/star-wars-i-am-the-senate-gif-10270130

[poofypigeon]: bro is the department üíÄ

[416_tz]: pov: nachiket

[poofypigeon]: https://tenor.com/view/i-am-the-one-who-knocks-breakingbad-gif-7806408

[nachiketkapre]: What? I'm President Barlet

[peepeetee]: @nachiketkapre but yeah slightly more seriously: stop using the r word

[peepeetee]: don't make me ban you

[peepeetee]: :creature:

[nachiketkapre]: This is my Discord

[peepeetee]: I SEE NO GODS

[poofypigeon]: This is a wendys

[nachiketkapre]: I'm so sad I never got to share the last fix with you

[nachiketkapre]: is lb.synth.tcl working?

[peepeetee]: nooooooooo

[peepeetee]: kurger bing

[nachiketkapre]: No need

gui_dump_picture screenshot.png -format PNG -view fplan

[marwanmek]: let me try again

[peepeetee]: how do I perform these two fixes? can they be pushed to main?

[poofypigeon]: it's looking fairly happy?

[poofypigeon]: Is there something in particular I should be looking out for?

[nachiketkapre]: THAT'S THE WHOLE POINT OF THE LAB

[nachiketkapre]: area/delay

[peepeetee]: no no the whole point of the lab isn't debugging it's understanding the variations in the cbox

[poofypigeon]: component,cell area,data arrival time,
lb,24881.640430,23.94,

[peepeetee]: the tooling should "just work"

[nachiketkapre]: Shh go away and do the lab

[peepeetee]: hnnnnnnnnnnnnnn

[poofypigeon]: this look right?

[marwanmek]: is there an output log for dc? vs just looking at terminal output?

[nachiketkapre]: dc_shell-xg-t -f lb.synth.tcl > wtf.log

[nachiketkapre]: I check wtf.log

[marwanmek]: or do i need to redirect it?

[marwanmek]: yeah ok

[jimmywzp6]: inside container:
innovus -64 -files fpga_top.par.tcl
gui_dump_picture screenshot.png -format PNG -view fplan
is this correct?

[nachiketkapre]: no

[nachiketkapre]: I leave it to you to figure out what I mean

[nachiketkapre]: Nah you have to earn your grade

[peepeetee]: ü•∫

[nachiketkapre]: TOOK ME 10 SECONDS TO FIX THIS

[marwanmek]: Error: Value for list '-from' must have 1 elements. (CMD-036)

[nachiketkapre]: COME ON I'm the R-WORD

[peepeetee]: you know the tooling since you setitupk

[nachiketkapre]: That's an SDC bug so we can ignore that

[peepeetee]: D:

[marwanmek]: Warning: Can't find object 'logical_tile_clb_mode_default__fle_9/fle_in[5]' in design 'grid_clb'. (UID-95)
Error: Value for list '-to' must have 1 elements. (CMD-036)

[marwanmek]: oh ok

[nachiketkapre]: @peepeetee you can stop complaining and start trying to figure out how you can do the same

[peepeetee]: I am focusing on 720 lab

[peepeetee]: This lab is monkey see monkey do 720 lab actually requires thought

[nachiketkapre]: but no monkey figured it out

[nachiketkapre]: ratemymonkeys.com!

[peepeetee]: speaking of 720 look at this question https://discord.com/channels/1412914279761444896/1415123452515586185/1432170776080945235

[peepeetee]: don't make me ask you tomorrow before class

[peepeetee]: :3

[marwanmek]: I don't see any other errors but that?

but assuming there's something I'm missing?

[nachiketkapre]: no it looks like my last fix is uncessary

[nachiketkapre]: I *think* the ECE722 cells masks this

[741opamp]: üíÄ üíÄ üíÄ üíÄ üíÄ

[poofypigeon]: was it a cool fix?

[nachiketkapre]: Iceberg-fix

[marwanmek]: ok

worth running fpga_top as well in case anything shows up there?

been avoiding running it

[nachiketkapre]: I think it will be fine

[poofypigeon]: but if it's not you get 0

[poofypigeon]: these runs take so long

[poofypigeon]: I miss kingslanding

[nachiketkapre]: might have to add shift_register_banks.v

[nachiketkapre]: what? takes me seconds

[nachiketkapre]: what server are you on?

[poofypigeon]: uwing

[nachiketkapre]: that's your problem

[nachiketkapre]: the whole class is on uwing

[poofypigeon]: YOU MADE ME MOVE TO UWING

[nachiketkapre]: I replicated execute on all servers

[poofypigeon]: D:

[nachiketkapre]: THAT WAS FOR DEBUGGING üòõ

[poofypigeon]: it wasn't faster on the other one though tbh

[marwanmek]: just for fpga_top?

[poofypigeon]: still like 25 minutes for fpga_top

[nachiketkapre]: I think so

[nachiketkapre]: did they not complain for the rest of the synth.tcls?

[marwanmek]: didn't see errors for CBOX/SBOX, only the errors I mentioned above for LB

[nachiketkapre]: SDC errors are fine.. no missing components?

[poofypigeon]: wouldn't the const.v foreach fix include it?

[nachiketkapre]: no these are generated files

[poofypigeon]: oh I got mixed up

[nachiketkapre]: How do I supress this message

Warning:  ./synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/sub_module/luts.v:34: the undeclared symbol 'INVTX1_0_out' assumed to have the default net type, which is 'wire'. (VER-936)

DRIVING ME INSANE

[poofypigeon]: define it's nettype idk

[marwanmek]: one more question - above you mentioned not to mess with folders

I have my scripts creating directories for each question/configuration and then running DC in a separate folder to keep things clean in the repository root

All my paths use $TOPDIR

screenshot.png moved to repo root, csvs being edited correctly

Is this ok or do I really need to run dc/innovus in repo root?

[nachiketkapre]: this is worrying!!

```
[nachiket@razorcrest lab2]$ cat wtf.log | grep unresolved
Warning: Design 'fpga_top' has '19' unresolved references. For more detailed information, use the "link" command. (UID-341)
Warning: Design 'fpga_top' has '19' unresolved references. For more detailed information, use the "link" command. (UID-341)
Warning: Design 'fpga_top' has '19' unresolved references. For more detailed information, use the "link" command. (UID-341)
Warning: Design 'fpga_top' has '19' unresolved references. For more detailed information, use the "link" command. (UID-341)
Warning: Design 'fpga_top' has '19' unresolved references. For more detailed information, use the "link" command. (UID-341)
```

[bananamilkenjoyer443]: Do you have to do the $random swap for all questions?

[marwanmek]: yes

[nachiketkapre]: I think I know -- sub_module files missing

[marwanmek]: could we just do something similar to:
set verilog_dir $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog

foreach verilog_file [glob -nocomplain $verilog_dir/*.v] {
    analyze -format sverilog $verilog_file
}

for the generated verilog?

[asharafath12]: This fix has to be implemented within inv_buf_passgate.v correct? Everytime I make the changes and rerun any of my scripts it removes all of my changes

[poofypigeon]: you have to apply the fix after every time you run the OpenFPGA python script

[asharafath12]: Ohh got it - thanks!

[nachiketkapre]: No user_defined_primtives will eat you alive

[marwanmek]: ah right

[hoss2882]: ik u already confirmed but we got till midnight tomorrow right üòø

[nachiketkapre]: deadline was 9pm yesterday

[hoss2882]: lol

[nachiketkapre]: you think its funny

[hoss2882]: no im coping

[nachiketkapre]: better luck next time

[nachiketkapre]: /s üòõ

[nachiketkapre]: yeah you got until tomorrow midnight

[nachiketkapre]: but I think we're all getting it done tonight

[hoss2882]: hahaha

[hoss2882]: i agree

[nachiketkapre]: I'm suddenly hungry

[nachiketkapre]: @Milo is the carrier pigeon still alive? Can it ship a burger?

[poofypigeon]: no, only bad coffee

[nachiketkapre]: bad coffee will put me to sleep

[nonexistentsigh]: for sure haha....

[poofypigeon]: also carrier pigeons only return home (homing pigeons) so unless you have raised a pigeon from birth I have bad news

[nachiketkapre]: I mean they do deliver though

[nachiketkapre]: i dont want to keep the pigeon

[nachiketkapre]: just the burger

[nachiketkapre]: unless its a shitty burger then I'm hacing a pigeon grillled burger

[poofypigeon]: D:

[marwanmek]: in the original lb tcl file:
analyze -format verilog $env(OPENFPGA_ROOT)/openfpga_flow/openfpga_cell_library/verilog/sram.v

Is it necessary to use verilog instead of sverilog here? Is it ok to replace this with the forech command and use sverilog instead?

would assume it doesn't matter but just found it odd this one file uses verilog instead of sverilog?

[nachiketkapre]: that's ok

[antheroo]: fpga_top: cell area=123987.390220, data arrival=378.47

[antheroo]: anyone get similar numbers

[bananamilkenjoyer443]: I'll let you know in 30 min...

[nachiketkapre]: This is the last authorized exchange of results üòõ

[nachiketkapre]: Did you resolve all missing components?

[shadow_edwax]: 30min probably not enough

[antheroo]: i did not üëç

[nachiketkapre]: ok then this is wrong üòõ

[nachiketkapre]: check for 'unresolved components'

[antheroo]: ya i get a bunch

[nachiketkapre]: and then figure out why and fix it

[nachiketkapre]: It should be like this

[nachiket@razorcrest lab2]$ cat wtf.log | grep unresolved
[nachiket@razorcrest lab2]$

[nachiketkapre]: everyone should be resolved

[antheroo]: ya i get 19 unresolved, same thing you sent earlier, i just ignored it lol

[peepeetee]: we should now all be asleep

[nachiketkapre]: only SDC errors can be ignored

[peepeetee]: go to sleep

[peepeetee]: we have class tomorrow

[nachiketkapre]: we have class today

[peepeetee]: today

[nachiketkapre]: and I still dont have a burger

[poofypigeon]: ```
Error:  Unable to open file 'synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/grid_io_bottom.v': in search_path {. /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/libraries/syn /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/syn_ver /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/sim_ver}. (VER-41)
```
well why are you looking there idiot we gave you a path

[nachiketkapre]: $RTLDIR

[nachiketkapre]: $RTLDIR

[nachiketkapre]: if you hardcode paths the autograder will break

[poofypigeon]: I'm pretty sure that's $RTLDIR expanded

[nachiketkapre]: nein

[nachiketkapre]: it will resolve to the full path

[nachiketkapre]: Compiling source file /zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_cell_library/verilog/mux2.v

[nachiketkapre]: SEE

[nachiketkapre]: DO YOU SEE

[nachiketkapre]: wait

[nachiketkapre]: analyze -format sverilog $env(RTLDIR)/SRC/sub_module/arch_encoder.v
Running PRESTO HDLC
Compiling source file ./synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/sub_module/arch_encoder.v
Presto compilation completed successfully.

[nachiketkapre]: never mind

[poofypigeon]: SEE

[nachiketkapre]: but I wonder if you ran run_fpga_task.py?

[poofypigeon]: this is the same script that ran cbox sbox and lb successfully

[poofypigeon]: I'm only getting this on fpga_top

[nachiketkapre]: is that file missing?

[nachiketkapre]: ohh

[nachiketkapre]: what?

[nachiketkapre]: yeah they're gone

[nachiketkapre]: FML

[poofypigeon]: yea I have grid_clb.v and grid_io.v in there but not grid_io_bottom.v

[nachiketkapre]: no wonder it is harmless to not found what didnt need finding

[poofypigeon]: waht

[nachiketkapre]: grid_io replaces the four-sided grid_io modules it seems

[nachiketkapre]: i have them in my script

[nachiketkapre]: and its harmless as it is not used anymore

[marwanmek]: q2b (fc sweep) still gets constant area and delay

[marwanmek]: no unresolved warnings from dc

[marwanmek]: no errors

[nachiketkapre]: does the generated cbox file look different?

[poofypigeon]: ```
Error:  Unable to open file 'synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/routing/cby_2__1_.v'``` this too

[marwanmek]: Warning: In design 'TGATE', port 'selb[0]' is not connected to any nets. (LINT-28)
Warning: In design 'cbx_1__0_', input port 'chanx_left_in[0]' is connected directly to output port 'chanx_right_out[0]'. (LINT-29)

[svccall]: got same as this, now looking into the 19 unresolved references

[nachiketkapre]: that's expected... in a cbox i->o path exists

[nachiketkapre]: check the folder?

[marwanmek]: checking

[antheroo]: ya i get 8 total (ver-41) errors

[nachiketkapre]: I only get this
```
[nachiket@razorcrest lab2]$ cat wtf.log | grep "Unable"
Error:  Unable to open file `synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/grid_io_bottom.v': in search_path {. /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/libraries/syn /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/syn_ver /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/sim_ver}. (VER-41)
Error:  Unable to open file `synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/grid_io_top.v': in search_path {. /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/libraries/syn /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/syn_ver /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/sim_ver}. (VER-41)
Error:  Unable to open file `synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/grid_io_right.v': in search_path {. /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/libraries/syn /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/syn_ver /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/sim_ver}. (VER-41)
Error:  Unable to open file `synthesizable_verilog/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/grid_io_left.v': in search_path {. /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/libraries/syn /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/syn_ver /CMC/tools/synopsys/syn_vV-2023.12-SP2/syn/V-2023.12-SP2/dw/sim_ver}. (VER-41)
```

[nachiketkapre]: and this is fine, they're apparently superceeded by grid_io -- you can remove teh top/bottom files

[poofypigeon]: `cby_2__1_.v` doesn't exist

[nachiketkapre]: rerun fpga task?

[nachiketkapre]: what is teh grid size in task.conf?

[marwanmek]: cbx_1__0_ is identical

[marwanmek]: between different fc in/out runs

[poofypigeon]: 2x2

[poofypigeon]: I have `cby_1__2_.v`

[nachiketkapre]: wow wtf

[marwanmek]: confirming we should be changing clb fc in and fc out only right? not io?

[nachiketkapre]: Yes, I did update my tcl to use what is actually in the RTLDIR folders.. so that will need intervention

[nachiketkapre]: yes

[poofypigeon]: left/right as well or no?

[nachiketkapre]: they're all gone

[nachiketkapre]: is cbox_1__0 an IO CLB???

[marwanmek]: umm

[nachiketkapre]: F***ing hell

[marwanmek]: idk

[marwanmek]: lol

[nachiketkapre]: try cbox_1__1

[nachiketkapre]: YUP F***ING PIECE OF SHIT TOOL cbx_1__0 is connection to an IO pin now

[marwanmek]: also identical

[nachiketkapre]: How do I know? Check fpga_top.v

[nachiketkapre]: even 1 1 is conncted to IO üòõ

[nachiketkapre]: cbox 2,2

[nachiketkapre]: that's a safe logic CLB Cbox

[marwanmek]: different between runs

[peepeetee]: We should all be asleep

[marwanmek]: rerunning dc now

[peepeetee]: I am going to sleep

[peepeetee]: goobye

[nachiketkapre]: @peepeetee gnight

[nachiketkapre]: don't let the pigeon bite

[jimmywzp6]: To confirm that lab2 due time is Oct 27 midnight, right?

[nachiketkapre]: it was due yesterday at 9

[nachiketkapre]: we;re only doing this for understanding how it works

[jimmywzp6]: wow~

[peepeetee]: :Juan:

[jimmywzp6]: I glad that I did push it last month

[poofypigeon]: do other people have `sb_4__4_.v` and such, or only up to `2__2`?

[nachiketkapre]: everyone has 4x4

[poofypigeon]: groovy

[poofypigeon]: I will update my tcl

[nachiketkapre]: It looks like OpenFPGA has decided to add a ring of 2 IO CLBs and messed up my numbering

[nachiketkapre]: Even cbox.synth.tcl shuold move to cbx_2__2 for top-level module

[marwanmek]: it at least varies now
but seems to not change with fcout?

[nachiketkapre]: I am wondering if even sbox should move to 2__2

[nachiketkapre]: FINALLY

[marwanmek]: not changing with fcout is expected?

[nachiketkapre]: You have to check the VTR manual for this

[marwanmek]: ;-;

[nachiketkapre]: were there any other outstanding issues?

[marwanmek]: haven't run everything

[nachiketkapre]: Q3/Q4?

[youssefm123]: is there another change needed after the $random fix and with the const.v fix

[nachiketkapre]: If Q3/Q4 are OK I'm going to sleep

[nachiketkapre]: Q3 wasn't problematic right?

[nachiketkapre]: Q4 is 2x2 CLB not 1x1

[n1ko0303]: Prof, do we have to include the docksh shell automation in the bash scripts?

[n1ko0303]: or its fine without it? since it only needs to be ran once? I assumed it was ran in the testing env already

[nachiketkapre]: I'm only calling lab2qx.sh

[nachiketkapre]: you figure out how to make the OpenFPGA + ASIC runs happen

[n1ko0303]: yeah it makes sense

[n1ko0303]: I assumed the way you said

[n1ko0303]: so there is no need to add that in there

[n1ko0303]: thanks

[marwanmek]: running q3 now

[marwanmek]: q4 will take too long, will look at it tomorrow

[nachiketkapre]: I think you don't understand but you'll figure it out when I run the grader

[n1ko0303]: oooh lol okay I will take a look at it again

[marwanmek]: for fpga_top - do we now need to include the extra sbox/cbox files?

[marwanmek]: since it's up to 4x4 now from 2x2?

[nachiketkapre]: BOTTOMLINE: You cannot have unresolved components

[nachiketkapre]: area/delay is meaningless if any component is MIA

[marwanmek]: for q3:
Error:  Unable to open file `/home/msmekhem/ECE722/grp_2-lab2/KNMSWEEP/4_16/latest/k6_N10_tileable_40nm/and2/MIN_ROUTE_CHAN_WIDTH/SRC/lb/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__ff.v': No such file or directory. (VER-41)

[marwanmek]: and unresolved references that ig I need to fix

[nachiketkapre]: for lb and routing folders just use foreach

[nachiketkapre]: not for sub_module or use foreach and exclude the primities

[nachiketkapre]: ok can I sleep now? üòõ

[marwanmek]: was rerunning 3 but yes would rather call it a day lol

[poofypigeon]: no, it's a feature of being a university of waterloo professor

[nachiketkapre]: It's already 1am

[nachiketkapre]: Profs go to sleep much earlier

[nachiketkapre]: Students have to stay awake, that's the contract

[nachiketkapre]: if I have to stay awake till 1, I should get 10% of your future earning

[nachiketkapre]: if I stay awake till 2, I get 20%

[nachiketkapre]: that's how it works

[asharafath12]: job market go brr

[nachiketkapre]: salary_fcin

[asharafath12]: if unemployed, salary_fcin = 0

[nachiketkapre]: Negative numbers are not represented in this math

[nachiketkapre]: so if you make a loss I don't owe you

[asharafath12]: well there goes my last chance at making money

[nachiketkapre]: a discounted tax is applied retroactively on employment

[asharafath12]: i aspire to commit tax evasion

[nachiketkapre]: If I am awake at 10am I get 100% of your earnings

[marwanmek]: Q3 looks good now

[marwanmek]: will look at everything else tomorrow

[poofypigeon]: No more unresolved dependencies in fpga_top yay

[poofypigeon]: there's no world in which the original tcl scripts ever would have worked though (???)

[poofypigeon]: why are you awake

[nachiketkapre]: A world of highly alert and creative students

[poofypigeon]: I'm supposed to be yelling into the void

[nachiketkapre]: I woke up just to reply

[poofypigeon]: doubt

[shadow_edwax]: doubt

[nachiketkapre]: I have a sixth sense about these things

[poofypigeon]: notification alerts aren't a sixth sense

[nachiketkapre]: They are when you muted it and still get them

[kunj99]: for q1?

im running q1 with only the random fix rn, trying to parse the coded message that is fixing cbx_1__0 is connection to IO

[nachiketkapre]: The only code is the verilog  ‚Äî open fpga_top.v and see where clb is connected

[poofypigeon]: ```
component,cell area,data arrival time,
fpga_top,150135.722826,194.39,
```
triumph

[poofypigeon]: my fpga_top timing report is saying stuff about a timing loop..? It's not reporting slack, just saying `(Path is unconstrained)`

[poofypigeon]: Is this cause for concern? The run was definitely _more_ correct than any previous ones overall

[nachiketkapre]: No that‚Äôs working exactly as intended. You want to disable timing arcs if you won‚Äôt have any timing due to cycles

[nachiketkapre]: The timing loop is a problem but ignore that ‚Äî it should be fixed by the SDC generation step and OpenFPGA told me their SDC generation remains buggy two years ago

[nachiketkapre]: Ohh wait did you add all SDC files?

[poofypigeon]: I did. I run all those with a foreach

[marwanmek]: current sbox in sbox tcl file uses io:

[marwanmek]: assume we want one that only uses clb, e.g.:

[marwanmek]: also I saw the same/similar warnings w/o adding any SDC files

[nachiketkapre]: The SDC files have some naming conflicts.. if you see missing names/nets errors when reading SDC files it is because the RTL and SDC paths mismatch.... I think someone could carefully look at the paths and come up with a patch, but I'm busy cleaning up Martin Langhammer + dev TA's Lab3 today

[poofypigeon]: I don't remember any errors from running the sdc files after switching to the foreach loop in the SDC folder

[nachiketkapre]: ```Warning: Can't find object 'fpga_top/cbx_2__1_/bottom_grid_top_width_0_height_0_subtile_0__pin_outpad_0_[0]' in design 'fpga_top'. (UID-95)
Error: Value for list '-to' must have 1 elements. (CMD-036)```

[nachiketkapre]: Errors of this kind are 100% due to a *minor* naming conflict I'm pretty sure

[nachiketkapre]: the modules are named at instantiation and in loops with loop labels

[andreasdacvs]: will you be updating our repo's with these fixes or do we need to do them ourselves (const.v, $random, etc)

[andreasdacvs]: i went to sleep early yesterday so I missed most of this stuff, and there's a lot to scroll through

[poofypigeon]: Pretty sure this is because you've analyzed `cbx_2__1_.v`, but not run the sdc file? I've eliminated these warnings by just running everything in the SDC folder

[antheroo]: I made this change, is that still correct?

[antheroo]: just want to make sure i didnt miss anything

[nachiketkapre]: There's nothing for me to fix. It's all in your .sh and some in your .tcl scripts.

[nachiketkapre]: did this:

set sdc_dir $env(RTLDIR)/SDC
foreach sdc_file [glob -nocomplain $sdc_dir/*.sdc] {
  read_sdc $sdc_file
}

[poofypigeon]: samesies

[nachiketkapre]: and there's no errors in your wtf.log?

[poofypigeon]: Well I just realized I forgot to change `*.v` to `*.sdc` so lemme get back to you on that üíÄ

[poofypigeon]: it's only unable to find like.. 35495 things.. nbd right?

[nachiketkapre]: IMPORTANT ANNOUCEMENT: Is there an idle person who can debug this for me?

I want to change docker-execute.sh script to use

Before: 
```
--workdir="$REAL_HOME" \
```

After:
```
--workdir="$PWD" \
```

This will let me run the grading scripts NOT IN YOUR HOME DIRECTORY WHICH I DON"T HAVE ACCESS TO WITHOUT SUDO AND I DON"T WANT TO ABUSE MY PRIVILEGES

[nachiketkapre]: Ok I tested myself and it works!

[nachiketkapre]: I need an independent third-party

[nachiketkapre]: Go to a random folder and do this:

sudo --preserve-env=SSH_AUTH_SOCK /usr/local/bin/student-container-execute.sh "ls"

[nachiketkapre]: it should only list files in that random folder

[antheroo]: does it matter what server?

[nachiketkapre]: only uwing for now

[nachiketkapre]: before I rollout

[poofypigeon]: seems fine

[antheroo]: working for me as well

[nachiketkapre]: Aweseome.. you lab*.sh scripts should NOT HARDCODE ANY PATHS!! They'll run in PWD automatically

[asharafath12]: works!

[nachiketkapre]: so when you launch docker-execute.sh to run ASIC tools no need to `cd` to any folder

[antheroo]: so i have to retest everything? üò≠

[nachiketkapre]: just the paths

[antheroo]: ok

[antheroo]: can you let us know when its pushed to all servers?

[nachiketkapre]: done!

[asharafath12]: thanks professor! @nachiketkapre

[poofypigeon]: the cell paths shouldn't include the name of the fricking top module that's why

[poofypigeon]: MORE SED

[nachiketkapre]: That‚Äôs it!!!! Jsut the top level module should be excluded‚Ä¶ mother of Sauron

[nachiketkapre]: I suspect the SDC generation step can be asked to exclude it to avoid sed

[poofypigeon]: I'm already in bed with sed what's one more

[nachiketkapre]: Where‚Äôs the write_SDC step in the OpenFPGA script??

[nachiketkapre]: https://openfpga.readthedocs.io/en/latest/manual/openfpga_shell/openfpga_commands/fpga_sdc_commands/

[nachiketkapre]: Something something hierarchy flatten?

[nachiketkapre]: Huh

```
cat /zfsspare/opt/OpenFPGA/openfpga_flow/openfpga_shell_scripts/fix_device_route_chan_width_example_script.openfpga
....

write_pnr_sdc --time_unit ns --flatten_names --file ./SDC
write_pnr_sdc --time_unit ns --flatten_names --hierarchical --file ./SDC_leaf
```

[poofypigeon]: flatten just expands wildcards

[poofypigeon]: and get_cells with --hierarchical didn't print the top module

[poofypigeon]: wait but the SDC_leaf outut _doesn't_ have the top module so maybe we do want --hierarchical here

[poofypigeon]: I guess?

[nachiketkapre]: so can we just include SDC_leaf SDCs instead of those in the SDC folder?

[poofypigeon]: there's no fpga_top in SDC_leaf I'm pretty sure

[nachiketkapre]: I'd be cautious -- make sure rest of the path is correct and only top-level is missing

[poofypigeon]: the rest of the paths all makes sense

[poofypigeon]: lemme do a run with my sed hack and see what happens

[poofypigeon]: fixed most but not all of the paths

[nachiketkapre]: Before/after count of missing objects?

[poofypigeon]: well grid_clb is a module name, not an instance name......

[poofypigeon]: 35495 -> 6064

[nachiketkapre]: Wow

[nachiketkapre]: And sed fixing does the same?

[poofypigeon]: wym, this is the sed fix

[nachiketkapre]: Oh you didn‚Äôt use SDC_leaf?

[nachiketkapre]: If this is the sed fix, can we also fix the grid_clb with the inst name with sed?

[poofypigeon]: probably not. there might be different instances that all collapsed to grid_clb

[nachiketkapre]: Ohh I wish we had 1x1

[nachiketkapre]: Ummm wait I wonder if you jsut did grid_clb_2_2 for instance whether this errror go away

[nachiketkapre]: And if so then the grid_clb commands can be replicated for all CLBs

[nachiketkapre]: I‚Äôm still not sure about this ‚Äî did you check and discard this option?

[poofypigeon]: SDC_leaf seems like it assumes the `cbx_1__0_.v` for example is the top file

[poofypigeon]: the path's arent relative to fpga_top

[nachiketkapre]: Ah ok they‚Äôre per-module

[poofypigeon]: yessir

[nachiketkapre]: But reducing errors to 6K is huge??

[poofypigeon]: it's still not no errors tho

[nachiketkapre]: I think fj you sed replaced grid_clb with just one coordinate and saw reduction then we can hack it

[poofypigeon]: what about grid clb with a wildcard?

[nachiketkapre]: Maaaybe but I don‚Äôt trust dc_shell

[poofypigeon]: there are multiple isntances of grid clb with different names is the thing. do we not need to hit all of them?

[nachiketkapre]: Eventually yes

[nachiketkapre]: But jsut as a trial balloon if you can hit one

[nachiketkapre]: And show error reduction ‚Ä¶

[nachiketkapre]: Then we can extract those lines and stitch a Frankenstein SDC together

[nicoleslaww]: sorry is this only for inside the container? we have separate scripts to modify xml files before entering the container, is that ok or will you only be pulling the `lab*.sh` files? our `lab*.sh` refer to `LAB_DIR = "$HOME/ece722-f25/labs/grp_$GROUP_NUM-lab2"` for various things before entering the container

[nachiketkapre]: That won‚Äôt work as I grade in separate folder structure. Use relative paths

[nachiketkapre]: And I don‚Äôt enter a container

[nachiketkapre]: I jsut run your lab*.sh in the host

[nachiketkapre]: And you have to wrap docker-execute around asic calls

[nicoleslaww]: ok so my file writing has to be done within the `lab*.sh` file? i can't have a separate python script?

[nicoleslaww]: just to clarify

[nachiketkapre]: No that‚Äôs fine as long as it doesn‚Äôt need exotic python packages

[nachiketkapre]: Just don‚Äôt hardcode paths

[nachiketkapre]: And call that Python file from the .sh correctly

[marwanmek]: just to be clear - as long as our CSV is populated and screenshot is moved to repo root, we should be good right?

all paths are relative in my scripts

[nachiketkapre]: Relative pans are fine

[poofypigeon]: 60 warnings left with wildcard fix

[nachiketkapre]: All Hail Milo the new energy drink

[andreasdacvs]: so for example, $HOME here, won't work?

[nachiketkapre]: It will not work

[poofypigeon]: the what now?

[nachiketkapre]: Popular in Singapore and my kid LOVES Milo Dinodaur when we visit Singapore‚Ä¶

[741opamp]: lmao this was my morning + pre sleep drink

[poofypigeon]: How'd you get that picture of me?

[nachiketkapre]: Important question does timing change after SDC fixes??

[nachiketkapre]: Or did we do all this just to make ourselves feel good

[poofypigeon]: almost home I will let you know shortly

[poofypigeon]: Am I supposed to feel good from this?

[poofypigeon]: ```
component,cell area,data arrival time,
fpga_top,151756.194656,0.00,
```
well it's definitely different üò≠

[poofypigeon]: wtf

[nachiketkapre]: What‚Äôs the slack?

[nachiketkapre]: Unconstrained?

[poofypigeon]: where'd all my signals go

[nachiketkapre]: Are we including the and2 SDCs?

[nachiketkapre]: Check the OpenFPGA fix width script thingy to see what other SDCs are being put out‚Ä¶

[nachiketkapre]: I think the current crop of SDCs removed all timing paths that were not programmed to participate in the and2 netlist

[nachiketkapre]: Can you kindly add SDC_analysis?

```
# Write the SDC to run timing analysis for a mapped FPGA fabric
write_analysis_sdc --file ./SDC_analysis
```

[poofypigeon]: all the paths for this file are really messed and don't resolve as well

[nachiketkapre]: This resolved?
set_disable_timing fpga_top/sb_*__*_/mem_left_track_*/DFFR_*_/QN

and this didn't?
set_disable_timing cbx_1__0_/chanx_left_in[0]

[nachiketkapre]: or other way around?

[nachiketkapre]: we don't have fpga_top?

[nachiketkapre]: This is from ages ago: üò≠

https://github.com/lnis-uofu/OpenFPGA/issues/1375#issuecomment-1734318576

[poofypigeon]: the sed fix helps with the fpga_top signals for the SDC_analysis, but there's still a wall of warnings like this

[nachiketkapre]: It's this fix: 
```
sed -i "s/logical_tile_clb_mode_clb__0_/logical_tile_clb_mode_clb__0/g" $RTLDIR/SDC/logical_tile_clb_mode_clb_.sdc # bug in OpenFPGA path naming
```

[nachiketkapre]: check if that's what's tripping this up?

[nachiketkapre]: oh wait no they seem to have fixed this

[nachiketkapre]: Is it the two // ?

[poofypigeon]: these are all the remaining warnings from the SDC folder

[nachiketkapre]: because I checked and th path exists...

[poofypigeon]: I can try that

[nachiketkapre]: plaintext please üòõ

[nachiketkapre]: so I can copy-paste

[nachiketkapre]: This one is ~~retarded~~!!

```
sb_0__1_/sb_0__2_
```

We have to split them into separate lines. as `sb_0__1_/chany_top_out` exists.

[nachiketkapre]: Is this in SDC_analysis??

[poofypigeon]: No, that's just SDC, but SDC_analysis has no more complaints after removing `fpga_top` and `//`

[nachiketkapre]: I suspect there a python list misinterpretation somewhere

[nachiketkapre]: but if the rest works, can you check timing again?

[poofypigeon]: so it's supposed to be `sb_0__1_/chany_top_out` _and_ `sb_0__2_/chany_top_out` as seperate things?

[poofypigeon]: yea, it's running

[nachiketkapre]: yeah but this isn't worth sed fixing. this is worth python patching in OpenFPGA

[poofypigeon]: oh brother

[nachiketkapre]: I think grid\_io should also have wildcard \_\*\_\* suffixes

[poofypigeon]: yeah, I think that was the logical next step after I made the grid_clb fix but then I relocated and forgot what I was doing

[nachiketkapre]: sbox is a Pythonic bug, and there's one last frontier remaining with the clb thingy

[nachiketkapre]: can you text paste that one?

[poofypigeon]: this is all the warnings from the images globbed together

[poofypigeon]: timing report is still identical to this

[nachiketkapre]: This exists WTF!!
```
Warning: Can't find objects matching 'grid_clb_*__*_/logical_tile_clb_mode_clb__0/logical_tile_clb_mode_default__fle_0/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_0/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__lut6_0/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__lut6/lut6_in[0]' in design 'fpga_top'. (UID-95)
```

[nachiketkapre]: OHH FISHCAKES!!!

This string is spurious

logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__lut6

[nachiketkapre]: that's a module name sneaking in

[nachiketkapre]: even after you add SDC_analysis?

[poofypigeon]: yessir

[kunj99]: just confirming that the wtf log is specific to the lb.synth dc run, correct?

[poofypigeon]: which wtf log?

[poofypigeon]: that's just some file we're dumping _any_ run output into for looking at later

[kunj99]: the one mentioned earlier in the convo by the prof, I thought it was the dump of any run of `dc_shell-xg-t -f lb.synth.tcl`

[nachiketkapre]: why do you want to know?

[kunj99]: trying to follow along the convo - just want to understand

[nachiketkapre]: to do what?

[nachiketkapre]: if you're writing your lab*.sh script this isn't relevant

[nachiketkapre]: I've sent a flurry of emails to Xifan Tang again.. hopefully we'll have an answer about SDCs

[nachiketkapre]: SDC_analysis doesn't throw any error?

[nachiketkapre]: after your fixes?

[poofypigeon]: No warnings remaining

[nachiketkapre]: ok can you drop SDC and only put SDC_analysis

[nachiketkapre]: I wonder if SDC is unprogrammed everything

[nachiketkapre]: and SDC_analysis is a subset..

[nachiketkapre]: but since we uprooted everything there may be nothing left

[kunj99]: oh.
 I thought resolving the issues for q1 after adding the $random and tcl fixes changes timing.....my bad

[nachiketkapre]: it should

[poofypigeon]: timing arc is back which is good (?)

[nachiketkapre]: Yayyyy

[nachiketkapre]: wait but what's the timing?

[poofypigeon]: I don't have numbers yet, I just saw the warnings pop up

[nachiketkapre]: ah ok

[nachiketkapre]: how quick is the compile?

[poofypigeon]: It's been faster this morning

[poofypigeon]: 5-10 minutes maybe?

[nachiketkapre]: nice

[poofypigeon]: You've looked at what SDC_analysis is right?

[poofypigeon]: it does nothing like the other SDC files do, just calls set_disable_timing on many, if not most or all, signals

[poofypigeon]: and is just one file: `and2_fpga_top_analysis.sdc`

[nachiketkapre]: so it doesn't annotate delays for the various paths?

[poofypigeon]: no

[nachiketkapre]: The first one SDC/ is for guiding the tool for "balanced delays" whatever that means

[poofypigeon]: arrival time of 0.0 is pretty balanced yea

[n1ko0303]: hey prof @nachiketkapre It is strange why my and my lab partners gitlabs says we are in different groups, his it says 17 and mine 13

[n1ko0303]: not sure I guess you put us in the different groups?

[n1ko0303]: we just noticed that

[peepeetee]: check the spreadsheet

[peepeetee]: also it's the due day how did you just notice

[n1ko0303]: bro who is asking anything to this guy lol

[nachiketkapre]: He's not wrong

[peepeetee]: https://discord.com/channels/1413213351407915194/1413213352288845938/1420174879583375511

[poofypigeon]: ```
disable_configurable_memory_outputs.sdc
disable_configure_ports.sdc
disable_routing_multiplexer_outputs.sdc
disable_sb_outputs.sdc
```
These guys in /SDC might be why I have no signals

[peepeetee]: here's the spreadsheet

[peepeetee]: look at it

[peepeetee]: group 17 already have 2 people

[peepeetee]: group 13 only has you

[peepeetee]: :Juan:

[nachiketkapre]: I think they're definitely disconnecting everything... so that's a problem

[nachiketkapre]: Wait, so what happend with just SDC_analysis??

[n1ko0303]: wow, I dont know I already sent an email and had chat with you prof about it thought me and him were in the same group

[nachiketkapre]: No, you ignored dozens of emails about forming groups in the spreadsheet

[nachiketkapre]: I am not changing groups at this stage

[poofypigeon]: ```
component,cell area,data arrival time,
fpga_top,153442.900725,0.13,
```

[nachiketkapre]: This is just some random path isn't it? no AND gate

[poofypigeon]: who even knows lol

[n1ko0303]: that dont make situation any better, but I guess Ill work on the labs alone from now

[poofypigeon]: It's certainly not what we're looking for

[nachiketkapre]: and that didn't include any SDC/*.sdc files?

[poofypigeon]: no, just SDC_analysis

[nachiketkapre]: I think it might actually be right üòõ

[nachiketkapre]: the critical path might be in fact from register/FF to an IO pin

[poofypigeon]: that's true I suppose

[nachiketkapre]: Hurray so what's our current minimal fix for SDCs?

[nachiketkapre]: use SDC_analysis and patch fpga_top and //?

[poofypigeon]: but we didn't set any delay values for paths did we?

[nachiketkapre]: we don't have to -- the ASIC mappign has it's own delays

[nachiketkapre]: we can assume that the IO ports do not have delay imbalances

[poofypigeon]: okay yay

[nachiketkapre]: We can try a larger netlist than and and2 gate to see if that shows a better delay but I'm tired and still have to do Lab3 and you have to pass the term

[peepeetee]: group 18 is also a 1 person group, maybe you can team up?

[poofypigeon]: replace SDC file reads with:
`read_sdc $env(RTLDIR)/SDC_analysis/and2_fpga_top_analysis.sdc`
add this after OpenFPGA python scripts run:
```
sed -i "s|fpga_top/||g" $RTLDIR/SDC_analysis/*.sdc
sed -i "s|//|/|g" $RTLDIR/SDC_analysis/*.sdc
```

[nachiketkapre]: Pinned a message.

[nachiketkapre]: No more changes.

[poofypigeon]: I don't think it makes sense that my cbox, sbox, and lb delays are all larger than my fpga_top delay now

[nachiketkapre]: You were reporting arrival time which isn‚Äôt the same as slack

[nachiketkapre]: You can‚Äôt vote for yourself üòÜ

[poofypigeon]: Of course I can

[peepeetee]: I am the senate

[poofypigeon]: If you say it makes sense I'm not gonna argue at this point

[nachiketkapre]: Is everyone ok with Lab2 now??? Please! üôè

[nachiketkapre]: Do not mess up your scripts or my autograde will ruthlessly give you a 0

[nachiketkapre]: Test it in random folders to confirm it works in any place

[nachiketkapre]: Remove SSH-AGENTs from your scripts

[nachiketkapre]: I will not have 50 agents running riot on the grading machines

[nachiketkapre]: Setup dot-files instructions correctly

[nachiketkapre]: And you will have SSH_AUTH_SOCK

[nachiketkapre]: Works 100% correctly all the time for me!!

[nachiketkapre]: Spread this far and wide. 

1. Hardcoding paths will net you a 0.
2. Starting your own ssg agent will net you a 0.

[shadow_edwax]: remove the eval $(ssh-agent)?

[poofypigeon]: just like everything else in this lab

[nachiketkapre]: Pinned a message.

[nachiketkapre]: Off with his bonus grade

[poofypigeon]: naur

[nachiketkapre]: Please be civilized and setup the ssh agent correctly once and for all in your .zshrc

[peepeetee]: NO

[peepeetee]: need time to process this information

[peepeetee]: :aaaauuuuuuu: :aaaauuuuuuu:

[poofypigeon]: ok you have til wednesday dw

[peepeetee]: :Yay:

[poofypigeon]: My plan to cut power to campus and push breaking changes to OpenFPGA in order to get an extension for undergrads was a huge success

[nachiketkapre]: I knew that‚Äôs where the pigeon short circuited our supply lines

[marwanmek]: Is this summary of steps to fix SDC issues correct?

Replace ALL read_sdc $env(RTLDIR)/SDC/* lines from ALL *.synth.tcl files with
read_sdc $env(RTLDIR)/SDC_analysis/and2_fpga_top_analysis.sdc

In that file, use sed to remove fpga_top

Is the basically it?

[nachiketkapre]: Yes only for FPGA top

[marwanmek]: so all other tcl files are ok? Do we need to include all the other files under SDC using foreach?

[poofypigeon]: I still have cbox and others read e.g `cbx_2__2_.sdc` from SDC_leaf. It seemed like we didn't want to change that but I'm not sure whether this gives consistent results across units

[jimmywzp6]: eval $(ssh-agent)
ssh-add ~/.ssh/id_ed25519
Can we do this in sh

[nachiketkapre]: Did you read the pinned message?

[nachiketkapre]: @here does anyone have a solution I can test against my autograder early? Want to stave off any surprises on Wednesday.

[poofypigeon]: I'm just running everything and then gonna push something that I think works ok

[svccall]: Same here

[n1ko0303]: I can volunteer

[poofypigeon]: https://git.uwaterloo.ca/ece722-f25/labs/grp_3-lab2
okay I've pushed what I have, but my q4 timing results look hella suspicious

[poofypigeon]: order of magnitude difference between synth and par

[nachiketkapre]: Good news! The grading script worked fine for Q1

[poofypigeon]: and there's only good news..?

[poofypigeon]: I still feel like my post-synth timing doesn't pass the sniff test, but as it stands my solution is the accepted approach?

[creeperdrop]: Removing the ssh-agent command breaks the container execute script

[creeperdrop]: Masterplan for all 0s?

[poofypigeon]: did you do the dot-files procedure?

[svccall]: Pushed our solution (group 27)

[creeperdrop]: Yep

[creeperdrop]: And not working

[nachiketkapre]: Is there something in your .tcshrc?

Ôåõ ÔÅº ~/ece7/labs/grp_3-lab2 on Ôáì ÔÑ¶ main ?27 ‚ùØ ./lab2q2b.sh
prompt: Undefined variable.

[poofypigeon]: $prompt is a value in the execute script I think that doesn't get defined, but it's harmless

[poofypigeon]: or env.csh actually I think

[nachiketkapre]: oh hmm

[poofypigeon]: well, it's in `$OPENFPGA_ROOT/openfpga-env/bin/activate.csh` which is called by env.csh

[poofypigeon]: I think it's only passed to set the prompt style to `(openfpga-env) $prompt`

[bananamilkenjoyer443]: I just have `set prompt=""` as part of my script so it doens't complain

[nachiketkapre]: 2a|2b+3 also work @Milo  now onto Q4

[bananamilkenjoyer443]: For the SDC reads, is that for all tcl files or just the fpga top one?

[nachiketkapre]: you can figure that out

[n1ko0303]: do we have to keep the original name to the cloned repo? or change it like the lab1 name? since in the instructions and in the steps its mentioned with studentsname+labnumber

[n1ko0303]: or it does not matter as long as we push the changes

[poofypigeon]: yay

[nachiketkapre]: DUDE WHAT IS THIS .. HILARIOUS üòõ

```

echo "grp_4,4,8,0.1,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_5,4,8,0.15,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_6,4,8,0.15,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_7,4,10,0.1,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_8,4,10,0.1,0.1,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_9,4,10,0.1,0.15,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_10,4,10,0.1,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_11,4,10,0.15,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_12,4,10,0.15,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_13,6,8,0.1,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_14,6,8,0.1,0.1,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_15,6,8,0.1,0.15,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_16,6,8,0.1,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_17,6,8,0.15,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_18,6,8,0.15,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_19,6,10,0.1,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_20,6,10,0.1,0.1,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_21,6,10,0.1,0.15,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_22,6,10,0.1,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_23,6,10,0.15,0.1,20,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_24,6,10,0.15,0.15,30,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_25,6,10,0.15,0.15,40,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_26,6,10,0.15,0.2,50,XXX,XXX,XXX,XXX," >> lab2q4.csv
echo "grp_27,6,10,0.2,0.15,40,XXX,XXX,XXX,XXX," >> lab2q4.csv
```

[poofypigeon]: it works

[nachiketkapre]: no need for this

[nachiketkapre]: i'm filtering it out anyway just keep your own data

[poofypigeon]: okay, so only our line?

[poofypigeon]: @nachiketkapre okayy so I got fpga_top to run with all of the path errors fixed using the SDC folder (excluding the files that disable timing).
Paths are constrained, but it's giving me the result of _three different paths_ now with three data arrival times...?
```
...
Startpoint: grid_clb_2__2_/logical_tile_clb_mode_clb__0/logical_tile_clb_mode_default__fle_1/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_0/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__lut6_0/lut6_DFFR_mem/DFFR_1_/q_reg_reg
              (rising edge-triggered flip-flop clocked by prog_clk[0])
Endpoint: grid_clb_2__2_/logical_tile_clb_mode_clb__0/logical_tile_clb_mode_default__fle_1/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_0/logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__ff_0/DFFSRQ_0_/q_reg_reg
            (rising edge-triggered flip-flop clocked by clk[0])
...
  ------------------------------
  data required time 359.99
  data arrival time -360.62
  ------------------------------
```
```
...
Startpoint: grid_clb_2__2_/logical_tile_clb_mode_clb__0/mem_fle_0_in_0/DFFR_0_/q_reg_reg
              (rising edge-triggered flip-flop clocked by prog_clk[0])
Endpoint: grid_clb_2__2_/logical_tile_clb_mode_clb__0/mem_fle_0_in_0/DFFR_1_/q_reg_reg
            (rising edge-triggered flip-flop clocked by prog_clk[0])
...
  ------------------------------
  data required time 9.96
  data arrival time -0.15
  ------------------------------
```
```
...
Startpoint: grid_clb_3__3_/logical_tile_clb_mode_clb__0/clb_I[37]
              (internal path startpoint)
Endpoint: grid_clb_3__3_/logical_tile_clb_mode_clb__0/logical_tile_clb_mode_default__fle_6/fle_in[3]
            (internal path endpoint)
...
  ------------------------------
  data required time 0.10
  data arrival time -1.27
  ------------------------------
```
all in the same timing report file

[nachiketkapre]: AMAZING but I'm busy -- let's discuss later tonight

[poofypigeon]: food time

[n1ko0303]: how long does it take for you guys to run the question 3

[n1ko0303]: in total not each iter

[poofypigeon]: q3 is on the shorter side comparatively

[bananamilkenjoyer443]: What errors am I looking for in the logs for the `dc_shell-xg-t`? Which ones are noteworthy and which ones should I ignore?

[jianxiwang]: Just went through all the conversations yesterday and finally figured out the changes ü´† . Can we make the deadline Wednesday midnight instead of noon? I have a midterm ended at 12 pm on Wednesday

[jianxiwang]: Really appreciated if it can be due midnight instead of noon!

[poofypigeon]: it is later tonight

[nachiketkapre]: Ok I'm here...

[nachiketkapre]: Wait so you excluded the disable* SDCs?

[poofypigeon]: yes

[poofypigeon]: They were just disabling timing for every connection which I think was bad?

[poofypigeon]: they were also the files with the paths from the allegedly messed up python

[nachiketkapre]: huh?

[nachiketkapre]: The OpenFPGA buggy constraints?

[poofypigeon]: these ones

[nachiketkapre]: they got excluded?

[poofypigeon]: ```tcl
set sdc_dir $env(RTLDIR)/SDC
foreach sdc_file [glob -nocomplain $sdc_dir/*.sdc] {
    if {[string first "disable" $sdc_file] == -1} {
        read_sdc $sdc_file
    }
}
```

[nachiketkapre]: ah ok

[poofypigeon]: is it useful, or should I stick to the SDC_analyze approach?

[emirguevara]: Does timing information make more sense now?

[nachiketkapre]: what is the arrival time info before/after?

[poofypigeon]: before

[poofypigeon]: after

[poofypigeon]: now there are 3 paths listed for some reason

[emirguevara]: But dc should report worst path by default?

[poofypigeon]: but neither the before or after end up being the same path as I get listed by `par`, which I suppose is not an impossibility

[poofypigeon]: That's what I would expect

[poofypigeon]: ```sh
sed -i "s|fpga_top/||g" $RTLDIR/SDC/*.sdc
sed -i "s|grid_clb/|grid_clb_*__*_/|g" $RTLDIR/SDC/*.sdc
sed -i "s|grid_io/|grid_io_*__*_/|g" $RTLDIR/SDC/*.sdc
sed -i "s|logical_tile_clb_mode_default__fle_mode_n1_lut6__ble6_mode_default__lut6/||g" $RTLDIR/SDC/*.sdc
```
required sed commands, for those playing along at home

